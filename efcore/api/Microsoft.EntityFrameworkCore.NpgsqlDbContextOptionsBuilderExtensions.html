<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
      <title>Class NpgsqlDbContextOptionsBuilderExtensions | Npgsql Documentation </title>
      <meta name="viewport" content="width=device-width, initial-scale=1.0">
      <meta name="title" content="Class NpgsqlDbContextOptionsBuilderExtensions | Npgsql Documentation ">
      
      <meta name="description" content="Provides extension methods on  and  used to configure a  to context to a PostgreSQL database with Npgsql.">
      <link rel="icon" href="../../favicon.ico">
      <link rel="stylesheet" href="../../public/docfx.min.css">
      <link rel="stylesheet" href="../../public/main.css">
      <meta name="docfx:navrel" content="../../toc.html">
      <meta name="docfx:tocrel" content="toc.html">
      
      <meta name="docfx:rel" content="../../">
      
      
      <meta name="docfx:docurl" content="https://github.com/npgsql/Npgsql.EntityFrameworkCore.PostgreSQL/new/stable/apiSpec/new?filename=Microsoft_EntityFrameworkCore_NpgsqlDbContextOptionsBuilderExtensions.md&amp;value=---%0Auid%3A%20Microsoft.EntityFrameworkCore.NpgsqlDbContextOptionsBuilderExtensions%0Asummary%3A%20&#39;*You%20can%20override%20summary%20for%20the%20API%20here%20using%20*MARKDOWN*%20syntax&#39;%0A---%0A%0A*Please%20type%20below%20more%20information%20about%20this%20API%3A*%0A%0A">
      <meta name="loc:inThisArticle" content="In this article">
      <meta name="loc:searchResultsCount" content="{count} results for &quot;{query}&quot;">
      <meta name="loc:searchNoResults" content="No results for &quot;{query}&quot;">
      <meta name="loc:tocFilter" content="Filter by title">
      <meta name="loc:nextArticle" content="Next">
      <meta name="loc:prevArticle" content="Previous">
      <meta name="loc:themeLight" content="Light">
      <meta name="loc:themeDark" content="Dark">
      <meta name="loc:themeAuto" content="Auto">
      <meta name="loc:changeTheme" content="Change theme">
      <meta name="loc:copy" content="Copy">
      <meta name="loc:downloadPdf" content="Download PDF">

      <script type="module" src="./../../public/docfx.min.js"></script>

      <script>
        const theme = localStorage.getItem('theme') || 'auto'
        document.documentElement.setAttribute('data-bs-theme', theme === 'auto' ? (window.matchMedia('(prefers-color-scheme: dark)').matches ? 'dark' : 'light') : theme)
      </script>

  </head>

  <body class="tex2jax_ignore" data-layout="" data-yaml-mime="ManagedReference">
    <header class="bg-body border-bottom">
      <nav id="autocollapse" class="navbar navbar-expand-md" role="navigation">
        <div class="container-xxl flex-nowrap">
          <a class="navbar-brand" href="../../index.html">
            <img id="logo" class="svg" src="../../logo.svg" alt="">
            
          </a>
          <button class="btn btn-lg d-md-none border-0" type="button" data-bs-toggle="collapse" data-bs-target="#navpanel" aria-controls="navpanel" aria-expanded="false" aria-label="Toggle navigation">
            <i class="bi bi-three-dots"></i>
          </button>
          <div class="collapse navbar-collapse" id="navpanel">
            <div id="navbar">
              <form class="search" role="search" id="search">
                <i class="bi bi-search"></i>
                <input class="form-control" id="search-query" type="search" disabled="" placeholder="Search" autocomplete="off" aria-label="Search">
              </form>
            </div>
          </div>
        </div>
      </nav>
    </header>

    <main class="container-xxl">
      <div class="toc-offcanvas">
        <div class="offcanvas-md offcanvas-start" tabindex="-1" id="tocOffcanvas" aria-labelledby="tocOffcanvasLabel">
          <div class="offcanvas-header">
            <h5 class="offcanvas-title" id="tocOffcanvasLabel">Table of Contents</h5>
            <button type="button" class="btn-close" data-bs-dismiss="offcanvas" data-bs-target="#tocOffcanvas" aria-label="Close"></button>
          </div>
          <div class="offcanvas-body">
            <nav class="toc" id="toc"></nav>
          </div>
        </div>
      </div>

      <div class="content">
        <div class="actionbar">
          <button class="btn btn-lg border-0 d-md-none" type="button" data-bs-toggle="offcanvas" data-bs-target="#tocOffcanvas" aria-controls="tocOffcanvas" aria-expanded="false" aria-label="Show table of contents">
            <i class="bi bi-list"></i>
          </button>

          <nav id="breadcrumb"></nav>
        </div>

        <article data-uid="Microsoft.EntityFrameworkCore.NpgsqlDbContextOptionsBuilderExtensions">



  <h1 id="Microsoft_EntityFrameworkCore_NpgsqlDbContextOptionsBuilderExtensions" data-uid="Microsoft.EntityFrameworkCore.NpgsqlDbContextOptionsBuilderExtensions" class="text-break">
Class NpgsqlDbContextOptionsBuilderExtensions  <a class="header-action link-secondary" title="View source" href="https://github.com/npgsql/Npgsql.EntityFrameworkCore.PostgreSQL/blob/main/src/EFCore.PG/Extensions/NpgsqlDbContextOptionsBuilderExtensions.cs/#L12"><i class="bi bi-code-slash"></i></a>
  </h1>

  <div class="facts text-secondary">
    <dl><dt>Namespace</dt><dd><a class="xref" href="https://learn.microsoft.com/dotnet/api/microsoft">Microsoft</a>.<a class="xref" href="https://learn.microsoft.com/dotnet/api/microsoft.entityframeworkcore">EntityFrameworkCore</a></dd></dl>
  <dl><dt>Assembly</dt><dd>Npgsql.EntityFrameworkCore.PostgreSQL.dll</dd></dl>
  </div>

  <div class="markdown summary"><p>Provides extension methods on <a class="xref" href="https://learn.microsoft.com/dotnet/api/microsoft.entityframeworkcore.dbcontextoptionsbuilder">DbContextOptionsBuilder</a> and <a class="xref" href="https://learn.microsoft.com/dotnet/api/microsoft.entityframeworkcore.dbcontextoptionsbuilder-1">DbContextOptionsBuilder&lt;TContext&gt;</a>
used to configure a <a class="xref" href="https://learn.microsoft.com/dotnet/api/microsoft.entityframeworkcore.dbcontext">DbContext</a> to context to a PostgreSQL database with Npgsql.</p>
</div>
  <div class="markdown conceptual"></div>

  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">public static class NpgsqlDbContextOptionsBuilderExtensions</code></pre>
  </div>




  <dl class="typelist inheritance">
    <dt>Inheritance</dt>
    <dd>
      <div><a class="xref" href="https://learn.microsoft.com/dotnet/api/system.object">object</a></div>
      <div><span class="xref">NpgsqlDbContextOptionsBuilderExtensions</span></div>
    </dd>
  </dl>



  <dl class="typelist inheritedMembers">
    <dt>Inherited Members</dt>
    <dd>
    <div>
      <a class="xref" href="https://learn.microsoft.com/dotnet/api/system.object.equals#system-object-equals(system-object)">object.Equals(object)</a>
    </div>
    <div>
      <a class="xref" href="https://learn.microsoft.com/dotnet/api/system.object.equals#system-object-equals(system-object-system-object)">object.Equals(object, object)</a>
    </div>
    <div>
      <a class="xref" href="https://learn.microsoft.com/dotnet/api/system.object.gethashcode">object.GetHashCode()</a>
    </div>
    <div>
      <a class="xref" href="https://learn.microsoft.com/dotnet/api/system.object.gettype">object.GetType()</a>
    </div>
    <div>
      <a class="xref" href="https://learn.microsoft.com/dotnet/api/system.object.memberwiseclone">object.MemberwiseClone()</a>
    </div>
    <div>
      <a class="xref" href="https://learn.microsoft.com/dotnet/api/system.object.referenceequals">object.ReferenceEquals(object, object)</a>
    </div>
    <div>
      <a class="xref" href="https://learn.microsoft.com/dotnet/api/system.object.tostring">object.ToString()</a>
    </div>
  </dd></dl>






  <h2 class="section" id="methods">Methods
</h2>


  <a id="Microsoft_EntityFrameworkCore_NpgsqlDbContextOptionsBuilderExtensions_UseNpgsql_" data-uid="Microsoft.EntityFrameworkCore.NpgsqlDbContextOptionsBuilderExtensions.UseNpgsql*"></a>

  <h3 id="Microsoft_EntityFrameworkCore_NpgsqlDbContextOptionsBuilderExtensions_UseNpgsql_Microsoft_EntityFrameworkCore_DbContextOptionsBuilder_System_Action_Npgsql_EntityFrameworkCore_PostgreSQL_Infrastructure_NpgsqlDbContextOptionsBuilder__" data-uid="Microsoft.EntityFrameworkCore.NpgsqlDbContextOptionsBuilderExtensions.UseNpgsql(Microsoft.EntityFrameworkCore.DbContextOptionsBuilder,System.Action{Npgsql.EntityFrameworkCore.PostgreSQL.Infrastructure.NpgsqlDbContextOptionsBuilder})">
  UseNpgsql(DbContextOptionsBuilder, Action&lt;NpgsqlDbContextOptionsBuilder&gt;?)
  <a class="header-action link-secondary" title="View source" href="https://github.com/npgsql/Npgsql.EntityFrameworkCore.PostgreSQL/blob/main/src/EFCore.PG/Extensions/NpgsqlDbContextOptionsBuilderExtensions.cs/#L28"><i class="bi bi-code-slash"></i></a>
  </h3>

  <div class="markdown level1 summary"><p>
        Configures the context to connect to a PostgreSQL server with Npgsql, but without initially setting any
        <a class="xref" href="https://learn.microsoft.com/dotnet/api/system.data.common.dbconnection">DbConnection</a> or connection string.
    </p>
<p>
        The connection or connection string must be set before the <a class="xref" href="https://learn.microsoft.com/dotnet/api/microsoft.entityframeworkcore.dbcontext">DbContext</a> is used to connect
        to a database. Set a connection using <a class="xref" href="https://learn.microsoft.com/dotnet/api/microsoft.entityframeworkcore.relationaldatabasefacadeextensions.setdbconnection">SetDbConnection(DatabaseFacade, DbConnection, bool)</a>.
        Set a connection string using <a class="xref" href="https://learn.microsoft.com/dotnet/api/microsoft.entityframeworkcore.relationaldatabasefacadeextensions.setconnectionstring">SetConnectionString(DatabaseFacade, string)</a>.
    </p>
</div>
  <div class="markdown level1 conceptual"></div>

  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">public static DbContextOptionsBuilder UseNpgsql(this DbContextOptionsBuilder optionsBuilder, Action&lt;NpgsqlDbContextOptionsBuilder&gt;? npgsqlOptionsAction = null)</code></pre>
  </div>

  <h4 class="section">Parameters</h4>
  <dl class="parameters">
    <dt><code>optionsBuilder</code> <a class="xref" href="https://learn.microsoft.com/dotnet/api/microsoft.entityframeworkcore.dbcontextoptionsbuilder">DbContextOptionsBuilder</a></dt>
    <dd><p>The builder being used to configure the context.</p>
</dd>
    <dt><code>npgsqlOptionsAction</code> <a class="xref" href="https://learn.microsoft.com/dotnet/api/system.action-1">Action</a>&lt;<a class="xref" href="Npgsql.EntityFrameworkCore.PostgreSQL.Infrastructure.NpgsqlDbContextOptionsBuilder.html">NpgsqlDbContextOptionsBuilder</a>&gt;</dt>
    <dd><p>An optional action to allow additional Npgsql-specific configuration.</p>
</dd>
  </dl>

  <h4 class="section">Returns</h4>
  <dl class="parameters">
    <dt><a class="xref" href="https://learn.microsoft.com/dotnet/api/microsoft.entityframeworkcore.dbcontextoptionsbuilder">DbContextOptionsBuilder</a></dt>
    <dd><p>The options builder so that further configuration can be chained.</p>
</dd>
  </dl>











  <a id="Microsoft_EntityFrameworkCore_NpgsqlDbContextOptionsBuilderExtensions_UseNpgsql_" data-uid="Microsoft.EntityFrameworkCore.NpgsqlDbContextOptionsBuilderExtensions.UseNpgsql*"></a>

  <h3 id="Microsoft_EntityFrameworkCore_NpgsqlDbContextOptionsBuilderExtensions_UseNpgsql_Microsoft_EntityFrameworkCore_DbContextOptionsBuilder_System_Data_Common_DbConnection_System_Action_Npgsql_EntityFrameworkCore_PostgreSQL_Infrastructure_NpgsqlDbContextOptionsBuilder__" data-uid="Microsoft.EntityFrameworkCore.NpgsqlDbContextOptionsBuilderExtensions.UseNpgsql(Microsoft.EntityFrameworkCore.DbContextOptionsBuilder,System.Data.Common.DbConnection,System.Action{Npgsql.EntityFrameworkCore.PostgreSQL.Infrastructure.NpgsqlDbContextOptionsBuilder})">
  UseNpgsql(DbContextOptionsBuilder, DbConnection, Action&lt;NpgsqlDbContextOptionsBuilder&gt;?)
  <a class="header-action link-secondary" title="View source" href="https://github.com/npgsql/Npgsql.EntityFrameworkCore.PostgreSQL/blob/main/src/EFCore.PG/Extensions/NpgsqlDbContextOptionsBuilderExtensions.cs/#L81"><i class="bi bi-code-slash"></i></a>
  </h3>

  <div class="markdown level1 summary"><p>Configures the context to connect to a PostgreSQL database with Npgsql.</p>
</div>
  <div class="markdown level1 conceptual"></div>

  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">public static DbContextOptionsBuilder UseNpgsql(this DbContextOptionsBuilder optionsBuilder, DbConnection connection, Action&lt;NpgsqlDbContextOptionsBuilder&gt;? npgsqlOptionsAction = null)</code></pre>
  </div>

  <h4 class="section">Parameters</h4>
  <dl class="parameters">
    <dt><code>optionsBuilder</code> <a class="xref" href="https://learn.microsoft.com/dotnet/api/microsoft.entityframeworkcore.dbcontextoptionsbuilder">DbContextOptionsBuilder</a></dt>
    <dd><p>The builder being used to configure the context.</p>
</dd>
    <dt><code>connection</code> <a class="xref" href="https://learn.microsoft.com/dotnet/api/system.data.common.dbconnection">DbConnection</a></dt>
    <dd><p>An existing <a class="xref" href="https://learn.microsoft.com/dotnet/api/system.data.common.dbconnection">DbConnection</a> to be used to connect to the database. If the connection is
in the open state then EF will not open or close the connection. If the connection is in the closed
state then EF will open and close the connection as needed. The caller owns the connection and is
responsible for its disposal.</p>
</dd>
    <dt><code>npgsqlOptionsAction</code> <a class="xref" href="https://learn.microsoft.com/dotnet/api/system.action-1">Action</a>&lt;<a class="xref" href="Npgsql.EntityFrameworkCore.PostgreSQL.Infrastructure.NpgsqlDbContextOptionsBuilder.html">NpgsqlDbContextOptionsBuilder</a>&gt;</dt>
    <dd><p>An optional action to allow additional Npgsql-specific configuration.</p>
</dd>
  </dl>

  <h4 class="section">Returns</h4>
  <dl class="parameters">
    <dt><a class="xref" href="https://learn.microsoft.com/dotnet/api/microsoft.entityframeworkcore.dbcontextoptionsbuilder">DbContextOptionsBuilder</a></dt>
    <dd><p>The options builder so that further configuration can be chained.</p>
</dd>
  </dl>











  <a id="Microsoft_EntityFrameworkCore_NpgsqlDbContextOptionsBuilderExtensions_UseNpgsql_" data-uid="Microsoft.EntityFrameworkCore.NpgsqlDbContextOptionsBuilderExtensions.UseNpgsql*"></a>

  <h3 id="Microsoft_EntityFrameworkCore_NpgsqlDbContextOptionsBuilderExtensions_UseNpgsql_Microsoft_EntityFrameworkCore_DbContextOptionsBuilder_System_Data_Common_DbConnection_System_Boolean_System_Action_Npgsql_EntityFrameworkCore_PostgreSQL_Infrastructure_NpgsqlDbContextOptionsBuilder__" data-uid="Microsoft.EntityFrameworkCore.NpgsqlDbContextOptionsBuilderExtensions.UseNpgsql(Microsoft.EntityFrameworkCore.DbContextOptionsBuilder,System.Data.Common.DbConnection,System.Boolean,System.Action{Npgsql.EntityFrameworkCore.PostgreSQL.Infrastructure.NpgsqlDbContextOptionsBuilder})">
  UseNpgsql(DbContextOptionsBuilder, DbConnection, bool, Action&lt;NpgsqlDbContextOptionsBuilder&gt;?)
  <a class="header-action link-secondary" title="View source" href="https://github.com/npgsql/Npgsql.EntityFrameworkCore.PostgreSQL/blob/main/src/EFCore.PG/Extensions/NpgsqlDbContextOptionsBuilderExtensions.cs/#L105"><i class="bi bi-code-slash"></i></a>
  </h3>

  <div class="markdown level1 summary"><p>Configures the context to connect to a PostgreSQL database with Npgsql.</p>
</div>
  <div class="markdown level1 conceptual"></div>

  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">public static DbContextOptionsBuilder UseNpgsql(this DbContextOptionsBuilder optionsBuilder, DbConnection connection, bool contextOwnsConnection, Action&lt;NpgsqlDbContextOptionsBuilder&gt;? npgsqlOptionsAction = null)</code></pre>
  </div>

  <h4 class="section">Parameters</h4>
  <dl class="parameters">
    <dt><code>optionsBuilder</code> <a class="xref" href="https://learn.microsoft.com/dotnet/api/microsoft.entityframeworkcore.dbcontextoptionsbuilder">DbContextOptionsBuilder</a></dt>
    <dd><p>A builder for setting options on the context.</p>
</dd>
    <dt><code>connection</code> <a class="xref" href="https://learn.microsoft.com/dotnet/api/system.data.common.dbconnection">DbConnection</a></dt>
    <dd><p>An existing <a class="xref" href="https://learn.microsoft.com/dotnet/api/system.data.common.dbconnection">DbConnection</a> to be used to connect to the database. If the connection is
in the open state then EF will not open or close the connection. If the connection is in the closed
state then EF will open and close the connection as needed.</p>
</dd>
    <dt><code>contextOwnsConnection</code> <a class="xref" href="https://learn.microsoft.com/dotnet/api/system.boolean">bool</a></dt>
    <dd><p>If <a href="https://learn.microsoft.com/dotnet/csharp/language-reference/builtin-types/bool">true</a>, then EF will take ownership of the connection and will
dispose it in the same way it would dispose a connection created by EF. If <a href="https://learn.microsoft.com/dotnet/csharp/language-reference/builtin-types/bool">false</a>, then the caller still
owns the connection and is responsible for its disposal.</p>
</dd>
    <dt><code>npgsqlOptionsAction</code> <a class="xref" href="https://learn.microsoft.com/dotnet/api/system.action-1">Action</a>&lt;<a class="xref" href="Npgsql.EntityFrameworkCore.PostgreSQL.Infrastructure.NpgsqlDbContextOptionsBuilder.html">NpgsqlDbContextOptionsBuilder</a>&gt;</dt>
    <dd><p>An optional action to allow additional Npgsql-specific configuration.</p>
</dd>
  </dl>

  <h4 class="section">Returns</h4>
  <dl class="parameters">
    <dt><a class="xref" href="https://learn.microsoft.com/dotnet/api/microsoft.entityframeworkcore.dbcontextoptionsbuilder">DbContextOptionsBuilder</a></dt>
    <dd><p>The options builder so that further configuration can be chained.</p>
</dd>
  </dl>











  <a id="Microsoft_EntityFrameworkCore_NpgsqlDbContextOptionsBuilderExtensions_UseNpgsql_" data-uid="Microsoft.EntityFrameworkCore.NpgsqlDbContextOptionsBuilderExtensions.UseNpgsql*"></a>

  <h3 id="Microsoft_EntityFrameworkCore_NpgsqlDbContextOptionsBuilderExtensions_UseNpgsql_Microsoft_EntityFrameworkCore_DbContextOptionsBuilder_System_Data_Common_DbDataSource_System_Action_Npgsql_EntityFrameworkCore_PostgreSQL_Infrastructure_NpgsqlDbContextOptionsBuilder__" data-uid="Microsoft.EntityFrameworkCore.NpgsqlDbContextOptionsBuilderExtensions.UseNpgsql(Microsoft.EntityFrameworkCore.DbContextOptionsBuilder,System.Data.Common.DbDataSource,System.Action{Npgsql.EntityFrameworkCore.PostgreSQL.Infrastructure.NpgsqlDbContextOptionsBuilder})">
  UseNpgsql(DbContextOptionsBuilder, DbDataSource, Action&lt;NpgsqlDbContextOptionsBuilder&gt;?)
  <a class="header-action link-secondary" title="View source" href="https://github.com/npgsql/Npgsql.EntityFrameworkCore.PostgreSQL/blob/main/src/EFCore.PG/Extensions/NpgsqlDbContextOptionsBuilderExtensions.cs/#L133"><i class="bi bi-code-slash"></i></a>
  </h3>

  <div class="markdown level1 summary"><p>Configures the context to connect to a PostgreSQL database with Npgsql.</p>
</div>
  <div class="markdown level1 conceptual"></div>

  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">public static DbContextOptionsBuilder UseNpgsql(this DbContextOptionsBuilder optionsBuilder, DbDataSource dataSource, Action&lt;NpgsqlDbContextOptionsBuilder&gt;? npgsqlOptionsAction = null)</code></pre>
  </div>

  <h4 class="section">Parameters</h4>
  <dl class="parameters">
    <dt><code>optionsBuilder</code> <a class="xref" href="https://learn.microsoft.com/dotnet/api/microsoft.entityframeworkcore.dbcontextoptionsbuilder">DbContextOptionsBuilder</a></dt>
    <dd><p>A builder for setting options on the context.</p>
</dd>
    <dt><code>dataSource</code> <a class="xref" href="https://learn.microsoft.com/dotnet/api/system.data.common.dbdatasource">DbDataSource</a></dt>
    <dd><p>A <a class="xref" href="https://learn.microsoft.com/dotnet/api/system.data.common.dbdatasource">DbDataSource</a> which will be used to get database connections.</p>
</dd>
    <dt><code>npgsqlOptionsAction</code> <a class="xref" href="https://learn.microsoft.com/dotnet/api/system.action-1">Action</a>&lt;<a class="xref" href="Npgsql.EntityFrameworkCore.PostgreSQL.Infrastructure.NpgsqlDbContextOptionsBuilder.html">NpgsqlDbContextOptionsBuilder</a>&gt;</dt>
    <dd><p>An optional action to allow additional Npgsql-specific configuration.</p>
</dd>
  </dl>

  <h4 class="section">Returns</h4>
  <dl class="parameters">
    <dt><a class="xref" href="https://learn.microsoft.com/dotnet/api/microsoft.entityframeworkcore.dbcontextoptionsbuilder">DbContextOptionsBuilder</a></dt>
    <dd><p>The options builder so that further configuration can be chained.</p>
</dd>
  </dl>











  <a id="Microsoft_EntityFrameworkCore_NpgsqlDbContextOptionsBuilderExtensions_UseNpgsql_" data-uid="Microsoft.EntityFrameworkCore.NpgsqlDbContextOptionsBuilderExtensions.UseNpgsql*"></a>

  <h3 id="Microsoft_EntityFrameworkCore_NpgsqlDbContextOptionsBuilderExtensions_UseNpgsql_Microsoft_EntityFrameworkCore_DbContextOptionsBuilder_System_String_System_Action_Npgsql_EntityFrameworkCore_PostgreSQL_Infrastructure_NpgsqlDbContextOptionsBuilder__" data-uid="Microsoft.EntityFrameworkCore.NpgsqlDbContextOptionsBuilderExtensions.UseNpgsql(Microsoft.EntityFrameworkCore.DbContextOptionsBuilder,System.String,System.Action{Npgsql.EntityFrameworkCore.PostgreSQL.Infrastructure.NpgsqlDbContextOptionsBuilder})">
  UseNpgsql(DbContextOptionsBuilder, string?, Action&lt;NpgsqlDbContextOptionsBuilder&gt;?)
  <a class="header-action link-secondary" title="View source" href="https://github.com/npgsql/Npgsql.EntityFrameworkCore.PostgreSQL/blob/main/src/EFCore.PG/Extensions/NpgsqlDbContextOptionsBuilderExtensions.cs/#L52"><i class="bi bi-code-slash"></i></a>
  </h3>

  <div class="markdown level1 summary"><p>Configures the context to connect to a PostgreSQL database with Npgsql.</p>
</div>
  <div class="markdown level1 conceptual"></div>

  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">public static DbContextOptionsBuilder UseNpgsql(this DbContextOptionsBuilder optionsBuilder, string? connectionString, Action&lt;NpgsqlDbContextOptionsBuilder&gt;? npgsqlOptionsAction = null)</code></pre>
  </div>

  <h4 class="section">Parameters</h4>
  <dl class="parameters">
    <dt><code>optionsBuilder</code> <a class="xref" href="https://learn.microsoft.com/dotnet/api/microsoft.entityframeworkcore.dbcontextoptionsbuilder">DbContextOptionsBuilder</a></dt>
    <dd><p>A builder for setting options on the context.</p>
</dd>
    <dt><code>connectionString</code> <a class="xref" href="https://learn.microsoft.com/dotnet/api/system.string">string</a></dt>
    <dd><p>The connection string of the database to connect to.</p>
</dd>
    <dt><code>npgsqlOptionsAction</code> <a class="xref" href="https://learn.microsoft.com/dotnet/api/system.action-1">Action</a>&lt;<a class="xref" href="Npgsql.EntityFrameworkCore.PostgreSQL.Infrastructure.NpgsqlDbContextOptionsBuilder.html">NpgsqlDbContextOptionsBuilder</a>&gt;</dt>
    <dd><p>An optional action to allow additional Npgsql-specific configuration.</p>
</dd>
  </dl>

  <h4 class="section">Returns</h4>
  <dl class="parameters">
    <dt><a class="xref" href="https://learn.microsoft.com/dotnet/api/microsoft.entityframeworkcore.dbcontextoptionsbuilder">DbContextOptionsBuilder</a></dt>
    <dd><p>The options builder so that further configuration can be chained.</p>
</dd>
  </dl>











  <a id="Microsoft_EntityFrameworkCore_NpgsqlDbContextOptionsBuilderExtensions_UseNpgsql_" data-uid="Microsoft.EntityFrameworkCore.NpgsqlDbContextOptionsBuilderExtensions.UseNpgsql*"></a>

  <h3 id="Microsoft_EntityFrameworkCore_NpgsqlDbContextOptionsBuilderExtensions_UseNpgsql__1_Microsoft_EntityFrameworkCore_DbContextOptionsBuilder___0__System_Action_Npgsql_EntityFrameworkCore_PostgreSQL_Infrastructure_NpgsqlDbContextOptionsBuilder__" data-uid="Microsoft.EntityFrameworkCore.NpgsqlDbContextOptionsBuilderExtensions.UseNpgsql``1(Microsoft.EntityFrameworkCore.DbContextOptionsBuilder{``0},System.Action{Npgsql.EntityFrameworkCore.PostgreSQL.Infrastructure.NpgsqlDbContextOptionsBuilder})">
  UseNpgsql&lt;TContext&gt;(DbContextOptionsBuilder&lt;TContext&gt;, Action&lt;NpgsqlDbContextOptionsBuilder&gt;?)
  <a class="header-action link-secondary" title="View source" href="https://github.com/npgsql/Npgsql.EntityFrameworkCore.PostgreSQL/blob/main/src/EFCore.PG/Extensions/NpgsqlDbContextOptionsBuilderExtensions.cs/#L167"><i class="bi bi-code-slash"></i></a>
  </h3>

  <div class="markdown level1 summary"><p>
        Configures the context to connect to a PostgreSQL server with Npgsql, but without initially setting any
        <a class="xref" href="https://learn.microsoft.com/dotnet/api/system.data.common.dbconnection">DbConnection</a>, <a class="xref" href="https://learn.microsoft.com/dotnet/api/system.data.common.dbdatasource">DbDataSource</a> or connection string.
    </p>
<p>
        The connection, data source or connection string must be set explicitly or registered in the DI
        before the <a class="xref" href="https://learn.microsoft.com/dotnet/api/microsoft.entityframeworkcore.dbcontext">DbContext</a> is used to connect to a database.
        Set a connection using <a class="xref" href="https://learn.microsoft.com/dotnet/api/microsoft.entityframeworkcore.relationaldatabasefacadeextensions.setdbconnection">SetDbConnection(DatabaseFacade, DbConnection, bool)</a>, a data source using
        <a class="xref" href="Microsoft.EntityFrameworkCore.NpgsqlDatabaseFacadeExtensions.html#Microsoft_EntityFrameworkCore_NpgsqlDatabaseFacadeExtensions_SetDbDataSource_Microsoft_EntityFrameworkCore_Infrastructure_DatabaseFacade_System_Data_Common_DbDataSource_">SetDbDataSource(DatabaseFacade, DbDataSource)</a>, or a connection string using
        <a class="xref" href="https://learn.microsoft.com/dotnet/api/microsoft.entityframeworkcore.relationaldatabasefacadeextensions.setconnectionstring">SetConnectionString(DatabaseFacade, string)</a>.
    </p>
</div>
  <div class="markdown level1 conceptual"></div>

  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">public static DbContextOptionsBuilder&lt;TContext&gt; UseNpgsql&lt;TContext&gt;(this DbContextOptionsBuilder&lt;TContext&gt; optionsBuilder, Action&lt;NpgsqlDbContextOptionsBuilder&gt;? npgsqlOptionsAction = null) where TContext : DbContext</code></pre>
  </div>

  <h4 class="section">Parameters</h4>
  <dl class="parameters">
    <dt><code>optionsBuilder</code> <a class="xref" href="https://learn.microsoft.com/dotnet/api/microsoft.entityframeworkcore.dbcontextoptionsbuilder-1">DbContextOptionsBuilder</a>&lt;TContext&gt;</dt>
    <dd><p>The builder being used to configure the context.</p>
</dd>
    <dt><code>npgsqlOptionsAction</code> <a class="xref" href="https://learn.microsoft.com/dotnet/api/system.action-1">Action</a>&lt;<a class="xref" href="Npgsql.EntityFrameworkCore.PostgreSQL.Infrastructure.NpgsqlDbContextOptionsBuilder.html">NpgsqlDbContextOptionsBuilder</a>&gt;</dt>
    <dd><p>An optional action to allow additional Npgsql-specific configuration.</p>
</dd>
  </dl>

  <h4 class="section">Returns</h4>
  <dl class="parameters">
    <dt><a class="xref" href="https://learn.microsoft.com/dotnet/api/microsoft.entityframeworkcore.dbcontextoptionsbuilder-1">DbContextOptionsBuilder</a>&lt;TContext&gt;</dt>
    <dd><p>The options builder so that further configuration can be chained.</p>
</dd>
  </dl>

  <h4 class="section">Type Parameters</h4>
  <dl class="parameters">
    <dt><code>TContext</code></dt>
    <dd></dd>
  </dl>










  <a id="Microsoft_EntityFrameworkCore_NpgsqlDbContextOptionsBuilderExtensions_UseNpgsql_" data-uid="Microsoft.EntityFrameworkCore.NpgsqlDbContextOptionsBuilderExtensions.UseNpgsql*"></a>

  <h3 id="Microsoft_EntityFrameworkCore_NpgsqlDbContextOptionsBuilderExtensions_UseNpgsql__1_Microsoft_EntityFrameworkCore_DbContextOptionsBuilder___0__System_Data_Common_DbConnection_System_Action_Npgsql_EntityFrameworkCore_PostgreSQL_Infrastructure_NpgsqlDbContextOptionsBuilder__" data-uid="Microsoft.EntityFrameworkCore.NpgsqlDbContextOptionsBuilderExtensions.UseNpgsql``1(Microsoft.EntityFrameworkCore.DbContextOptionsBuilder{``0},System.Data.Common.DbConnection,System.Action{Npgsql.EntityFrameworkCore.PostgreSQL.Infrastructure.NpgsqlDbContextOptionsBuilder})">
  UseNpgsql&lt;TContext&gt;(DbContextOptionsBuilder&lt;TContext&gt;, DbConnection, Action&lt;NpgsqlDbContextOptionsBuilder&gt;?)
  <a class="header-action link-secondary" title="View source" href="https://github.com/npgsql/Npgsql.EntityFrameworkCore.PostgreSQL/blob/main/src/EFCore.PG/Extensions/NpgsqlDbContextOptionsBuilderExtensions.cs/#L205"><i class="bi bi-code-slash"></i></a>
  </h3>

  <div class="markdown level1 summary"><p>Configures the context to connect to a PostgreSQL database with Npgsql.</p>
</div>
  <div class="markdown level1 conceptual"></div>

  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">public static DbContextOptionsBuilder&lt;TContext&gt; UseNpgsql&lt;TContext&gt;(this DbContextOptionsBuilder&lt;TContext&gt; optionsBuilder, DbConnection connection, Action&lt;NpgsqlDbContextOptionsBuilder&gt;? npgsqlOptionsAction = null) where TContext : DbContext</code></pre>
  </div>

  <h4 class="section">Parameters</h4>
  <dl class="parameters">
    <dt><code>optionsBuilder</code> <a class="xref" href="https://learn.microsoft.com/dotnet/api/microsoft.entityframeworkcore.dbcontextoptionsbuilder-1">DbContextOptionsBuilder</a>&lt;TContext&gt;</dt>
    <dd><p>A builder for setting options on the context.</p>
</dd>
    <dt><code>connection</code> <a class="xref" href="https://learn.microsoft.com/dotnet/api/system.data.common.dbconnection">DbConnection</a></dt>
    <dd><p>An existing <a class="xref" href="https://learn.microsoft.com/dotnet/api/system.data.common.dbconnection">DbConnection</a> to be used to connect to the database. If the connection is
in the open state then EF will not open or close the connection. If the connection is in the closed
state then EF will open and close the connection as needed. The caller owns the connection and is
responsible for its disposal.</p>
</dd>
    <dt><code>npgsqlOptionsAction</code> <a class="xref" href="https://learn.microsoft.com/dotnet/api/system.action-1">Action</a>&lt;<a class="xref" href="Npgsql.EntityFrameworkCore.PostgreSQL.Infrastructure.NpgsqlDbContextOptionsBuilder.html">NpgsqlDbContextOptionsBuilder</a>&gt;</dt>
    <dd><p>An optional action to allow additional Npgsql-specific configuration.</p>
</dd>
  </dl>

  <h4 class="section">Returns</h4>
  <dl class="parameters">
    <dt><a class="xref" href="https://learn.microsoft.com/dotnet/api/microsoft.entityframeworkcore.dbcontextoptionsbuilder-1">DbContextOptionsBuilder</a>&lt;TContext&gt;</dt>
    <dd><p>The options builder so that further configuration can be chained.</p>
</dd>
  </dl>

  <h4 class="section">Type Parameters</h4>
  <dl class="parameters">
    <dt><code>TContext</code></dt>
    <dd></dd>
  </dl>










  <a id="Microsoft_EntityFrameworkCore_NpgsqlDbContextOptionsBuilderExtensions_UseNpgsql_" data-uid="Microsoft.EntityFrameworkCore.NpgsqlDbContextOptionsBuilderExtensions.UseNpgsql*"></a>

  <h3 id="Microsoft_EntityFrameworkCore_NpgsqlDbContextOptionsBuilderExtensions_UseNpgsql__1_Microsoft_EntityFrameworkCore_DbContextOptionsBuilder___0__System_Data_Common_DbConnection_System_Boolean_System_Action_Npgsql_EntityFrameworkCore_PostgreSQL_Infrastructure_NpgsqlDbContextOptionsBuilder__" data-uid="Microsoft.EntityFrameworkCore.NpgsqlDbContextOptionsBuilderExtensions.UseNpgsql``1(Microsoft.EntityFrameworkCore.DbContextOptionsBuilder{``0},System.Data.Common.DbConnection,System.Boolean,System.Action{Npgsql.EntityFrameworkCore.PostgreSQL.Infrastructure.NpgsqlDbContextOptionsBuilder})">
  UseNpgsql&lt;TContext&gt;(DbContextOptionsBuilder&lt;TContext&gt;, DbConnection, bool, Action&lt;NpgsqlDbContextOptionsBuilder&gt;?)
  <a class="header-action link-secondary" title="View source" href="https://github.com/npgsql/Npgsql.EntityFrameworkCore.PostgreSQL/blob/main/src/EFCore.PG/Extensions/NpgsqlDbContextOptionsBuilderExtensions.cs/#L230"><i class="bi bi-code-slash"></i></a>
  </h3>

  <div class="markdown level1 summary"><p>Configures the context to connect to a PostgreSQL database with Npgsql.</p>
</div>
  <div class="markdown level1 conceptual"></div>

  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">public static DbContextOptionsBuilder&lt;TContext&gt; UseNpgsql&lt;TContext&gt;(this DbContextOptionsBuilder&lt;TContext&gt; optionsBuilder, DbConnection connection, bool contextOwnsConnection, Action&lt;NpgsqlDbContextOptionsBuilder&gt;? npgsqlOptionsAction = null) where TContext : DbContext</code></pre>
  </div>

  <h4 class="section">Parameters</h4>
  <dl class="parameters">
    <dt><code>optionsBuilder</code> <a class="xref" href="https://learn.microsoft.com/dotnet/api/microsoft.entityframeworkcore.dbcontextoptionsbuilder-1">DbContextOptionsBuilder</a>&lt;TContext&gt;</dt>
    <dd><p>The builder being used to configure the context.</p>
</dd>
    <dt><code>connection</code> <a class="xref" href="https://learn.microsoft.com/dotnet/api/system.data.common.dbconnection">DbConnection</a></dt>
    <dd><p>An existing <a class="xref" href="https://learn.microsoft.com/dotnet/api/system.data.common.dbconnection">DbConnection</a> to be used to connect to the database. If the connection is
in the open state then EF will not open or close the connection. If the connection is in the closed
state then EF will open and close the connection as needed.</p>
</dd>
    <dt><code>contextOwnsConnection</code> <a class="xref" href="https://learn.microsoft.com/dotnet/api/system.boolean">bool</a></dt>
    <dd><p>If <a href="https://learn.microsoft.com/dotnet/csharp/language-reference/builtin-types/bool">true</a>, then EF will take ownership of the connection and will
dispose it in the same way it would dispose a connection created by EF. If <a href="https://learn.microsoft.com/dotnet/csharp/language-reference/builtin-types/bool">false</a>, then the caller still
owns the connection and is responsible for its disposal.</p>
</dd>
    <dt><code>npgsqlOptionsAction</code> <a class="xref" href="https://learn.microsoft.com/dotnet/api/system.action-1">Action</a>&lt;<a class="xref" href="Npgsql.EntityFrameworkCore.PostgreSQL.Infrastructure.NpgsqlDbContextOptionsBuilder.html">NpgsqlDbContextOptionsBuilder</a>&gt;</dt>
    <dd><p>An optional action to allow additional Npgsql-specific configuration.</p>
</dd>
  </dl>

  <h4 class="section">Returns</h4>
  <dl class="parameters">
    <dt><a class="xref" href="https://learn.microsoft.com/dotnet/api/microsoft.entityframeworkcore.dbcontextoptionsbuilder-1">DbContextOptionsBuilder</a>&lt;TContext&gt;</dt>
    <dd><p>The options builder so that further configuration can be chained.</p>
</dd>
  </dl>

  <h4 class="section">Type Parameters</h4>
  <dl class="parameters">
    <dt><code>TContext</code></dt>
    <dd><p>The type of context to be configured.</p>
</dd>
  </dl>










  <a id="Microsoft_EntityFrameworkCore_NpgsqlDbContextOptionsBuilderExtensions_UseNpgsql_" data-uid="Microsoft.EntityFrameworkCore.NpgsqlDbContextOptionsBuilderExtensions.UseNpgsql*"></a>

  <h3 id="Microsoft_EntityFrameworkCore_NpgsqlDbContextOptionsBuilderExtensions_UseNpgsql__1_Microsoft_EntityFrameworkCore_DbContextOptionsBuilder___0__System_Data_Common_DbDataSource_System_Action_Npgsql_EntityFrameworkCore_PostgreSQL_Infrastructure_NpgsqlDbContextOptionsBuilder__" data-uid="Microsoft.EntityFrameworkCore.NpgsqlDbContextOptionsBuilderExtensions.UseNpgsql``1(Microsoft.EntityFrameworkCore.DbContextOptionsBuilder{``0},System.Data.Common.DbDataSource,System.Action{Npgsql.EntityFrameworkCore.PostgreSQL.Infrastructure.NpgsqlDbContextOptionsBuilder})">
  UseNpgsql&lt;TContext&gt;(DbContextOptionsBuilder&lt;TContext&gt;, DbDataSource, Action&lt;NpgsqlDbContextOptionsBuilder&gt;?)
  <a class="header-action link-secondary" title="View source" href="https://github.com/npgsql/Npgsql.EntityFrameworkCore.PostgreSQL/blob/main/src/EFCore.PG/Extensions/NpgsqlDbContextOptionsBuilderExtensions.cs/#L248"><i class="bi bi-code-slash"></i></a>
  </h3>

  <div class="markdown level1 summary"><p>Configures the context to connect to a PostgreSQL database with Npgsql.</p>
</div>
  <div class="markdown level1 conceptual"></div>

  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">public static DbContextOptionsBuilder&lt;TContext&gt; UseNpgsql&lt;TContext&gt;(this DbContextOptionsBuilder&lt;TContext&gt; optionsBuilder, DbDataSource dataSource, Action&lt;NpgsqlDbContextOptionsBuilder&gt;? npgsqlOptionsAction = null) where TContext : DbContext</code></pre>
  </div>

  <h4 class="section">Parameters</h4>
  <dl class="parameters">
    <dt><code>optionsBuilder</code> <a class="xref" href="https://learn.microsoft.com/dotnet/api/microsoft.entityframeworkcore.dbcontextoptionsbuilder-1">DbContextOptionsBuilder</a>&lt;TContext&gt;</dt>
    <dd><p>A builder for setting options on the context.</p>
</dd>
    <dt><code>dataSource</code> <a class="xref" href="https://learn.microsoft.com/dotnet/api/system.data.common.dbdatasource">DbDataSource</a></dt>
    <dd><p>A <a class="xref" href="https://learn.microsoft.com/dotnet/api/system.data.common.dbdatasource">DbDataSource</a> which will be used to get database connections.</p>
</dd>
    <dt><code>npgsqlOptionsAction</code> <a class="xref" href="https://learn.microsoft.com/dotnet/api/system.action-1">Action</a>&lt;<a class="xref" href="Npgsql.EntityFrameworkCore.PostgreSQL.Infrastructure.NpgsqlDbContextOptionsBuilder.html">NpgsqlDbContextOptionsBuilder</a>&gt;</dt>
    <dd><p>An optional action to allow additional Npgsql-specific configuration.</p>
</dd>
  </dl>

  <h4 class="section">Returns</h4>
  <dl class="parameters">
    <dt><a class="xref" href="https://learn.microsoft.com/dotnet/api/microsoft.entityframeworkcore.dbcontextoptionsbuilder-1">DbContextOptionsBuilder</a>&lt;TContext&gt;</dt>
    <dd><p>The options builder so that further configuration can be chained.</p>
</dd>
  </dl>

  <h4 class="section">Type Parameters</h4>
  <dl class="parameters">
    <dt><code>TContext</code></dt>
    <dd></dd>
  </dl>










  <a id="Microsoft_EntityFrameworkCore_NpgsqlDbContextOptionsBuilderExtensions_UseNpgsql_" data-uid="Microsoft.EntityFrameworkCore.NpgsqlDbContextOptionsBuilderExtensions.UseNpgsql*"></a>

  <h3 id="Microsoft_EntityFrameworkCore_NpgsqlDbContextOptionsBuilderExtensions_UseNpgsql__1_Microsoft_EntityFrameworkCore_DbContextOptionsBuilder___0__System_String_System_Action_Npgsql_EntityFrameworkCore_PostgreSQL_Infrastructure_NpgsqlDbContextOptionsBuilder__" data-uid="Microsoft.EntityFrameworkCore.NpgsqlDbContextOptionsBuilderExtensions.UseNpgsql``1(Microsoft.EntityFrameworkCore.DbContextOptionsBuilder{``0},System.String,System.Action{Npgsql.EntityFrameworkCore.PostgreSQL.Infrastructure.NpgsqlDbContextOptionsBuilder})">
  UseNpgsql&lt;TContext&gt;(DbContextOptionsBuilder&lt;TContext&gt;, string?, Action&lt;NpgsqlDbContextOptionsBuilder&gt;?)
  <a class="header-action link-secondary" title="View source" href="https://github.com/npgsql/Npgsql.EntityFrameworkCore.PostgreSQL/blob/main/src/EFCore.PG/Extensions/NpgsqlDbContextOptionsBuilderExtensions.cs/#L183"><i class="bi bi-code-slash"></i></a>
  </h3>

  <div class="markdown level1 summary"><p>Configures the context to connect to a PostgreSQL database with Npgsql.</p>
</div>
  <div class="markdown level1 conceptual"></div>

  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">public static DbContextOptionsBuilder&lt;TContext&gt; UseNpgsql&lt;TContext&gt;(this DbContextOptionsBuilder&lt;TContext&gt; optionsBuilder, string? connectionString, Action&lt;NpgsqlDbContextOptionsBuilder&gt;? npgsqlOptionsAction = null) where TContext : DbContext</code></pre>
  </div>

  <h4 class="section">Parameters</h4>
  <dl class="parameters">
    <dt><code>optionsBuilder</code> <a class="xref" href="https://learn.microsoft.com/dotnet/api/microsoft.entityframeworkcore.dbcontextoptionsbuilder-1">DbContextOptionsBuilder</a>&lt;TContext&gt;</dt>
    <dd><p>A builder for setting options on the context.</p>
</dd>
    <dt><code>connectionString</code> <a class="xref" href="https://learn.microsoft.com/dotnet/api/system.string">string</a></dt>
    <dd><p>The connection string of the database to connect to.</p>
</dd>
    <dt><code>npgsqlOptionsAction</code> <a class="xref" href="https://learn.microsoft.com/dotnet/api/system.action-1">Action</a>&lt;<a class="xref" href="Npgsql.EntityFrameworkCore.PostgreSQL.Infrastructure.NpgsqlDbContextOptionsBuilder.html">NpgsqlDbContextOptionsBuilder</a>&gt;</dt>
    <dd><p>An optional action to allow additional Npgsql-configuration.</p>
</dd>
  </dl>

  <h4 class="section">Returns</h4>
  <dl class="parameters">
    <dt><a class="xref" href="https://learn.microsoft.com/dotnet/api/microsoft.entityframeworkcore.dbcontextoptionsbuilder-1">DbContextOptionsBuilder</a>&lt;TContext&gt;</dt>
    <dd><p>The options builder so that further configuration can be chained.</p>
</dd>
  </dl>

  <h4 class="section">Type Parameters</h4>
  <dl class="parameters">
    <dt><code>TContext</code></dt>
    <dd></dd>
  </dl>











</article>

        <div class="contribution d-print-none">
          <a href="https://github.com/npgsql/Npgsql.EntityFrameworkCore.PostgreSQL/blob/main/src/EFCore.PG/Extensions/NpgsqlDbContextOptionsBuilderExtensions.cs/#L12" class="edit-link">Edit this page</a>
        </div>


      </div>

      <div class="affix">
        <nav id="affix"></nav>
      </div>
    </main>

    <div class="container-xxl search-results" id="search-results"></div>

    <footer class="border-top text-secondary">
      <div class="container-xxl">
        <div class="flex-fill">
          © Copyright 2024 The Npgsql Development Team
        </div>
      </div>
    </footer>
  </body>
</html>
