<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
      <title>Class NpgsqlBatch | Npgsql Documentation </title>
      <meta name="viewport" content="width=device-width, initial-scale=1.0">
      <meta name="title" content="Class NpgsqlBatch | Npgsql Documentation ">
      
      <meta name="description" content="Represents a batch of commands which can be executed against a data source in a single round trip. Provides a base class for database-specific classes that represent command batches.">
      <link rel="icon" href="../../favicon.ico">
      <link rel="stylesheet" href="../../public/docfx.min.css">
      <link rel="stylesheet" href="../../public/main.css">
      <meta name="docfx:navrel" content="../../toc.html">
      <meta name="docfx:tocrel" content="toc.html">
      
      <meta name="docfx:rel" content="../../">
      
      
      <meta name="docfx:docurl" content="https://github.com/npgsql/Npgsql/new/stable/apiSpec/new?filename=Npgsql_NpgsqlBatch.md&amp;value=---%0Auid%3A%20Npgsql.NpgsqlBatch%0Asummary%3A%20&#39;*You%20can%20override%20summary%20for%20the%20API%20here%20using%20*MARKDOWN*%20syntax&#39;%0A---%0A%0A*Please%20type%20below%20more%20information%20about%20this%20API%3A*%0A%0A">
      <meta name="loc:inThisArticle" content="In this article">
      <meta name="loc:searchResultsCount" content="{count} results for &quot;{query}&quot;">
      <meta name="loc:searchNoResults" content="No results for &quot;{query}&quot;">
      <meta name="loc:tocFilter" content="Filter by title">
      <meta name="loc:nextArticle" content="Next">
      <meta name="loc:prevArticle" content="Previous">
      <meta name="loc:themeLight" content="Light">
      <meta name="loc:themeDark" content="Dark">
      <meta name="loc:themeAuto" content="Auto">
      <meta name="loc:changeTheme" content="Change theme">
      <meta name="loc:copy" content="Copy">
      <meta name="loc:downloadPdf" content="Download PDF">

      <script type="module" src="./../../public/docfx.min.js"></script>

      <script>
        const theme = localStorage.getItem('theme') || 'auto'
        document.documentElement.setAttribute('data-bs-theme', theme === 'auto' ? (window.matchMedia('(prefers-color-scheme: dark)').matches ? 'dark' : 'light') : theme)
      </script>

  </head>

  <body class="tex2jax_ignore" data-layout="" data-yaml-mime="ManagedReference">
    <header class="bg-body border-bottom">
      <nav id="autocollapse" class="navbar navbar-expand-md" role="navigation">
        <div class="container-xxl flex-nowrap">
          <a class="navbar-brand" href="../../index.html">
            <img id="logo" class="svg" src="../../logo.svg" alt="">
            
          </a>
          <button class="btn btn-lg d-md-none border-0" type="button" data-bs-toggle="collapse" data-bs-target="#navpanel" aria-controls="navpanel" aria-expanded="false" aria-label="Toggle navigation">
            <i class="bi bi-three-dots"></i>
          </button>
          <div class="collapse navbar-collapse" id="navpanel">
            <div id="navbar">
              <form class="search" role="search" id="search">
                <i class="bi bi-search"></i>
                <input class="form-control" id="search-query" type="search" disabled="" placeholder="Search" autocomplete="off" aria-label="Search">
              </form>
            </div>
          </div>
        </div>
      </nav>
    </header>

    <main class="container-xxl">
      <div class="toc-offcanvas">
        <div class="offcanvas-md offcanvas-start" tabindex="-1" id="tocOffcanvas" aria-labelledby="tocOffcanvasLabel">
          <div class="offcanvas-header">
            <h5 class="offcanvas-title" id="tocOffcanvasLabel">Table of Contents</h5>
            <button type="button" class="btn-close" data-bs-dismiss="offcanvas" data-bs-target="#tocOffcanvas" aria-label="Close"></button>
          </div>
          <div class="offcanvas-body">
            <nav class="toc" id="toc"></nav>
          </div>
        </div>
      </div>

      <div class="content">
        <div class="actionbar">
          <button class="btn btn-lg border-0 d-md-none" type="button" data-bs-toggle="offcanvas" data-bs-target="#tocOffcanvas" aria-controls="tocOffcanvas" aria-expanded="false" aria-label="Show table of contents">
            <i class="bi bi-list"></i>
          </button>

          <nav id="breadcrumb"></nav>
        </div>

        <article data-uid="Npgsql.NpgsqlBatch">



  <h1 id="Npgsql_NpgsqlBatch" data-uid="Npgsql.NpgsqlBatch" class="text-break">
Class NpgsqlBatch  <a class="header-action link-secondary" title="View source" href="https://github.com/npgsql/npgsql/blob/main/src/Npgsql/NpgsqlBatch.cs/#L11"><i class="bi bi-code-slash"></i></a>
  </h1>

  <div class="facts text-secondary">
    <dl><dt>Namespace</dt><dd><a class="xref" href="Npgsql.html">Npgsql</a></dd></dl>
  <dl><dt>Assembly</dt><dd>Npgsql.dll</dd></dl>
  </div>

  <div class="markdown summary"><p>Represents a batch of commands which can be executed against a data source in a single round trip. Provides a base class for database-specific classes that represent command batches.</p>
</div>
  <div class="markdown conceptual"></div>

  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">public class NpgsqlBatch : DbBatch, IDisposable, IAsyncDisposable</code></pre>
  </div>




  <dl class="typelist inheritance">
    <dt>Inheritance</dt>
    <dd>
      <div><a class="xref" href="https://learn.microsoft.com/dotnet/api/system.object">object</a></div>
      <div><a class="xref" href="https://learn.microsoft.com/dotnet/api/system.data.common.dbbatch">DbBatch</a></div>
      <div><span class="xref">NpgsqlBatch</span></div>
    </dd>
  </dl>

  <dl class="typelist implements">
    <dt>Implements</dt>
    <dd>
      <div><a class="xref" href="https://learn.microsoft.com/dotnet/api/system.idisposable">IDisposable</a></div>
      <div><a class="xref" href="https://learn.microsoft.com/dotnet/api/system.iasyncdisposable">IAsyncDisposable</a></div>
    </dd>
  </dl>


  <dl class="typelist inheritedMembers">
    <dt>Inherited Members</dt>
    <dd>
    <div>
      <a class="xref" href="https://learn.microsoft.com/dotnet/api/system.data.common.dbbatch.disposeasync">DbBatch.DisposeAsync()</a>
    </div>
    <div>
      <a class="xref" href="https://learn.microsoft.com/dotnet/api/system.object.equals#system-object-equals(system-object)">object.Equals(object)</a>
    </div>
    <div>
      <a class="xref" href="https://learn.microsoft.com/dotnet/api/system.object.equals#system-object-equals(system-object-system-object)">object.Equals(object, object)</a>
    </div>
    <div>
      <a class="xref" href="https://learn.microsoft.com/dotnet/api/system.object.gethashcode">object.GetHashCode()</a>
    </div>
    <div>
      <a class="xref" href="https://learn.microsoft.com/dotnet/api/system.object.gettype">object.GetType()</a>
    </div>
    <div>
      <a class="xref" href="https://learn.microsoft.com/dotnet/api/system.object.memberwiseclone">object.MemberwiseClone()</a>
    </div>
    <div>
      <a class="xref" href="https://learn.microsoft.com/dotnet/api/system.object.referenceequals">object.ReferenceEquals(object, object)</a>
    </div>
    <div>
      <a class="xref" href="https://learn.microsoft.com/dotnet/api/system.object.tostring">object.ToString()</a>
    </div>
  </dd></dl>






  <h2 class="section" id="constructors">Constructors
</h2>


  <a id="Npgsql_NpgsqlBatch__ctor_" data-uid="Npgsql.NpgsqlBatch.#ctor*"></a>

  <h3 id="Npgsql_NpgsqlBatch__ctor_Npgsql_NpgsqlConnection_Npgsql_NpgsqlTransaction_" data-uid="Npgsql.NpgsqlBatch.#ctor(Npgsql.NpgsqlConnection,Npgsql.NpgsqlTransaction)">
  NpgsqlBatch(NpgsqlConnection?, NpgsqlTransaction?)
  <a class="header-action link-secondary" title="View source" href="https://github.com/npgsql/npgsql/blob/main/src/Npgsql/NpgsqlBatch.cs/#L100"><i class="bi bi-code-slash"></i></a>
  </h3>

  <div class="markdown level1 summary"><p>Initializes a new <a class="xref" href="Npgsql.NpgsqlBatch.html">NpgsqlBatch</a>.</p>
</div>
  <div class="markdown level1 conceptual"></div>

  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">public NpgsqlBatch(NpgsqlConnection? connection = null, NpgsqlTransaction? transaction = null)</code></pre>
  </div>

  <h4 class="section">Parameters</h4>
  <dl class="parameters">
    <dt><code>connection</code> <a class="xref" href="Npgsql.NpgsqlConnection.html">NpgsqlConnection</a></dt>
    <dd><p>A <a class="xref" href="Npgsql.NpgsqlConnection.html">NpgsqlConnection</a> that represents the connection to a PostgreSQL server.</p>
</dd>
    <dt><code>transaction</code> <a class="xref" href="Npgsql.NpgsqlTransaction.html">NpgsqlTransaction</a></dt>
    <dd><p>The <a class="xref" href="Npgsql.NpgsqlTransaction.html">NpgsqlTransaction</a> in which the <a class="xref" href="Npgsql.NpgsqlCommand.html">NpgsqlCommand</a> executes.</p>
</dd>
  </dl>












  <h2 class="section" id="properties">Properties
</h2>


  <a id="Npgsql_NpgsqlBatch_BatchCommands_" data-uid="Npgsql.NpgsqlBatch.BatchCommands*"></a>

  <h3 id="Npgsql_NpgsqlBatch_BatchCommands" data-uid="Npgsql.NpgsqlBatch.BatchCommands">
  BatchCommands
  <a class="header-action link-secondary" title="View source" href="https://github.com/npgsql/npgsql/blob/main/src/Npgsql/NpgsqlBatch.cs/#L21"><i class="bi bi-code-slash"></i></a>
  </h3>

  <div class="markdown level1 summary"><p>Gets the collection of <a class="xref" href="https://learn.microsoft.com/dotnet/api/system.data.common.dbbatchcommand">DbBatchCommand</a> objects.</p>
</div>
  <div class="markdown level1 conceptual"></div>

  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">public NpgsqlBatchCommandCollection BatchCommands { get; }</code></pre>
  </div>





  <h4 class="section">Property Value</h4>
  <dl class="parameters">
    <dt><a class="xref" href="Npgsql.NpgsqlBatchCommandCollection.html">NpgsqlBatchCommandCollection</a></dt>
    <dd><p>The commands contained within the batch.</p>
</dd>
  </dl>








  <a id="Npgsql_NpgsqlBatch_Connection_" data-uid="Npgsql.NpgsqlBatch.Connection*"></a>

  <h3 id="Npgsql_NpgsqlBatch_Connection" data-uid="Npgsql.NpgsqlBatch.Connection">
  Connection
  <a class="header-action link-secondary" title="View source" href="https://github.com/npgsql/npgsql/blob/main/src/Npgsql/NpgsqlBatch.cs/#L31"><i class="bi bi-code-slash"></i></a>
  </h3>

  <div class="markdown level1 summary"><p>Gets or sets the <a class="xref" href="https://learn.microsoft.com/dotnet/api/system.data.common.dbconnection">DbConnection</a> used by this <a class="xref" href="https://learn.microsoft.com/dotnet/api/system.data.common.dbbatch">DbBatch</a>.</p>
</div>
  <div class="markdown level1 conceptual"></div>

  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">public NpgsqlConnection? Connection { get; set; }</code></pre>
  </div>





  <h4 class="section">Property Value</h4>
  <dl class="parameters">
    <dt><a class="xref" href="Npgsql.NpgsqlConnection.html">NpgsqlConnection</a></dt>
    <dd><p>The connection to the data source.</p>
</dd>
  </dl>








  <a id="Npgsql_NpgsqlBatch_DbBatchCommands_" data-uid="Npgsql.NpgsqlBatch.DbBatchCommands*"></a>

  <h3 id="Npgsql_NpgsqlBatch_DbBatchCommands" data-uid="Npgsql.NpgsqlBatch.DbBatchCommands">
  DbBatchCommands
  <a class="header-action link-secondary" title="View source" href="https://github.com/npgsql/npgsql/blob/main/src/Npgsql/NpgsqlBatch.cs/#L18"><i class="bi bi-code-slash"></i></a>
  </h3>

  <div class="markdown level1 summary"><p>When overridden in a derived class, gets the collection of <a class="xref" href="https://learn.microsoft.com/dotnet/api/system.data.common.dbbatchcommand">DbBatchCommand</a> objects.</p>
</div>
  <div class="markdown level1 conceptual"></div>

  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">protected override DbBatchCommandCollection DbBatchCommands { get; }</code></pre>
  </div>





  <h4 class="section">Property Value</h4>
  <dl class="parameters">
    <dt><a class="xref" href="https://learn.microsoft.com/dotnet/api/system.data.common.dbbatchcommandcollection">DbBatchCommandCollection</a></dt>
    <dd><p>The commands contained within the batch.</p>
</dd>
  </dl>








  <a id="Npgsql_NpgsqlBatch_DbConnection_" data-uid="Npgsql.NpgsqlBatch.DbConnection*"></a>

  <h3 id="Npgsql_NpgsqlBatch_DbConnection" data-uid="Npgsql.NpgsqlBatch.DbConnection">
  DbConnection
  <a class="header-action link-secondary" title="View source" href="https://github.com/npgsql/npgsql/blob/main/src/Npgsql/NpgsqlBatch.cs/#L38"><i class="bi bi-code-slash"></i></a>
  </h3>

  <div class="markdown level1 summary"><p>When overridden in a derived class, gets or sets the <a class="xref" href="https://learn.microsoft.com/dotnet/api/system.data.common.dbconnection">DbConnection</a> used by this <a class="xref" href="https://learn.microsoft.com/dotnet/api/system.data.common.dbbatch">DbBatch</a>.</p>
</div>
  <div class="markdown level1 conceptual"></div>

  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">protected override DbConnection? DbConnection { get; set; }</code></pre>
  </div>





  <h4 class="section">Property Value</h4>
  <dl class="parameters">
    <dt><a class="xref" href="https://learn.microsoft.com/dotnet/api/system.data.common.dbconnection">DbConnection</a></dt>
    <dd><p>The connection to the data source.</p>
</dd>
  </dl>








  <a id="Npgsql_NpgsqlBatch_DbTransaction_" data-uid="Npgsql.NpgsqlBatch.DbTransaction*"></a>

  <h3 id="Npgsql_NpgsqlBatch_DbTransaction" data-uid="Npgsql.NpgsqlBatch.DbTransaction">
  DbTransaction
  <a class="header-action link-secondary" title="View source" href="https://github.com/npgsql/npgsql/blob/main/src/Npgsql/NpgsqlBatch.cs/#L52"><i class="bi bi-code-slash"></i></a>
  </h3>

  <div class="markdown level1 summary"><p>When overridden in a derived class, gets or sets the <a class="xref" href="https://learn.microsoft.com/dotnet/api/system.data.common.dbtransaction">DbTransaction</a> within which this <a class="xref" href="https://learn.microsoft.com/dotnet/api/system.data.common.dbbatch">DbBatch</a> object executes.</p>
</div>
  <div class="markdown level1 conceptual"></div>

  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">protected override DbTransaction? DbTransaction { get; set; }</code></pre>
  </div>





  <h4 class="section">Property Value</h4>
  <dl class="parameters">
    <dt><a class="xref" href="https://learn.microsoft.com/dotnet/api/system.data.common.dbtransaction">DbTransaction</a></dt>
    <dd><p>The transaction within which a batch of a .NET data provider executes. The default value is a null reference (<code>Nothing</code> in Visual Basic).</p>
</dd>
  </dl>








  <a id="Npgsql_NpgsqlBatch_EnableErrorBarriers_" data-uid="Npgsql.NpgsqlBatch.EnableErrorBarriers*"></a>

  <h3 id="Npgsql_NpgsqlBatch_EnableErrorBarriers" data-uid="Npgsql.NpgsqlBatch.EnableErrorBarriers">
  EnableErrorBarriers
  <a class="header-action link-secondary" title="View source" href="https://github.com/npgsql/npgsql/blob/main/src/Npgsql/NpgsqlBatch.cs/#L78"><i class="bi bi-code-slash"></i></a>
  </h3>

  <div class="markdown level1 summary"><p>Controls whether to place error barriers between all batch commands within this batch. Default to <a href="https://learn.microsoft.com/dotnet/csharp/language-reference/builtin-types/bool">false</a>.</p>
</div>
  <div class="markdown level1 conceptual"></div>

  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">public bool EnableErrorBarriers { get; set; }</code></pre>
  </div>





  <h4 class="section">Property Value</h4>
  <dl class="parameters">
    <dt><a class="xref" href="https://learn.microsoft.com/dotnet/api/system.boolean">bool</a></dt>
    <dd></dd>
  </dl>




  <h4 class="section" id="Npgsql_NpgsqlBatch_EnableErrorBarriers_remarks">Remarks</h4>
  <div class="markdown level1 remarks"><p>
    By default, any exception in a command causes later commands in the batch to be skipped, and earlier commands to be rolled back.
    Enabling error barriers ensures that errors do not affect other commands in the batch.
</p>
<p>
    Note that if the batch is executed within an explicit transaction, the first error places the transaction in a failed state,
    causing all later commands to fail in any case. As a result, this option is useful mainly when there is no explicit transaction.
</p>
<p>
    At the PostgreSQL wire protocol level, this corresponds to inserting a Sync message between each command, rather than grouping
    all the batch's commands behind a single terminating Sync.
</p>
<p>
    To control error barriers on a command-by-command basis, see <a class="xref" href="Npgsql.NpgsqlBatchCommand.html#Npgsql_NpgsqlBatchCommand_AppendErrorBarrier">AppendErrorBarrier</a>.
</p>
</div>




  <a id="Npgsql_NpgsqlBatch_Timeout_" data-uid="Npgsql.NpgsqlBatch.Timeout*"></a>

  <h3 id="Npgsql_NpgsqlBatch_Timeout" data-uid="Npgsql.NpgsqlBatch.Timeout">
  Timeout
  <a class="header-action link-secondary" title="View source" href="https://github.com/npgsql/npgsql/blob/main/src/Npgsql/NpgsqlBatch.cs/#L24"><i class="bi bi-code-slash"></i></a>
  </h3>

  <div class="markdown level1 summary"><p>Gets or sets the wait time (in seconds) before terminating the attempt to execute the batch and generating an error.</p>
</div>
  <div class="markdown level1 conceptual"></div>

  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">public override int Timeout { get; set; }</code></pre>
  </div>





  <h4 class="section">Property Value</h4>
  <dl class="parameters">
    <dt><a class="xref" href="https://learn.microsoft.com/dotnet/api/system.int32">int</a></dt>
    <dd><p>The time in seconds to wait for the batch to execute.</p>
</dd>
  </dl>








  <a id="Npgsql_NpgsqlBatch_Transaction_" data-uid="Npgsql.NpgsqlBatch.Transaction*"></a>

  <h3 id="Npgsql_NpgsqlBatch_Transaction" data-uid="Npgsql.NpgsqlBatch.Transaction">
  Transaction
  <a class="header-action link-secondary" title="View source" href="https://github.com/npgsql/npgsql/blob/main/src/Npgsql/NpgsqlBatch.cs/#L45"><i class="bi bi-code-slash"></i></a>
  </h3>

  <div class="markdown level1 summary"><p>Gets or sets the <a class="xref" href="https://learn.microsoft.com/dotnet/api/system.data.common.dbtransaction">DbTransaction</a> within which this <a class="xref" href="https://learn.microsoft.com/dotnet/api/system.data.common.dbbatch">DbBatch</a> object executes.</p>
</div>
  <div class="markdown level1 conceptual"></div>

  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">public NpgsqlTransaction? Transaction { get; set; }</code></pre>
  </div>





  <h4 class="section">Property Value</h4>
  <dl class="parameters">
    <dt><a class="xref" href="Npgsql.NpgsqlTransaction.html">NpgsqlTransaction</a></dt>
    <dd><p>The transaction within which a batch of a .NET data provider executes. The default value is a null reference (<code>Nothing</code> in Visual Basic).</p>
</dd>
  </dl>








  <h2 class="section" id="methods">Methods
</h2>


  <a id="Npgsql_NpgsqlBatch_Cancel_" data-uid="Npgsql.NpgsqlBatch.Cancel*"></a>

  <h3 id="Npgsql_NpgsqlBatch_Cancel" data-uid="Npgsql.NpgsqlBatch.Cancel">
  Cancel()
  <a class="header-action link-secondary" title="View source" href="https://github.com/npgsql/npgsql/blob/main/src/Npgsql/NpgsqlBatch.cs/#L180"><i class="bi bi-code-slash"></i></a>
  </h3>

  <div class="markdown level1 summary"><p>Attempts to cancel the execution of a <a class="xref" href="https://learn.microsoft.com/dotnet/api/system.data.common.dbbatch">DbBatch</a>.</p>
</div>
  <div class="markdown level1 conceptual"></div>

  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">public override void Cancel()</code></pre>
  </div>













  <a id="Npgsql_NpgsqlBatch_CreateBatchCommand_" data-uid="Npgsql.NpgsqlBatch.CreateBatchCommand*"></a>

  <h3 id="Npgsql_NpgsqlBatch_CreateBatchCommand" data-uid="Npgsql.NpgsqlBatch.CreateBatchCommand">
  CreateBatchCommand()
  <a class="header-action link-secondary" title="View source" href="https://github.com/npgsql/npgsql/blob/main/src/Npgsql/NpgsqlBatch.cs/#L128"><i class="bi bi-code-slash"></i></a>
  </h3>

  <div class="markdown level1 summary"><p>Creates a new instance of a <a class="xref" href="https://learn.microsoft.com/dotnet/api/system.data.common.dbbatchcommand">DbBatchCommand</a> object.</p>
</div>
  <div class="markdown level1 conceptual"></div>

  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">public NpgsqlBatchCommand CreateBatchCommand()</code></pre>
  </div>


  <h4 class="section">Returns</h4>
  <dl class="parameters">
    <dt><a class="xref" href="Npgsql.NpgsqlBatchCommand.html">NpgsqlBatchCommand</a></dt>
    <dd><p>A <a class="xref" href="https://learn.microsoft.com/dotnet/api/system.data.common.dbbatchcommand">DbBatchCommand</a> object.</p>
</dd>
  </dl>











  <a id="Npgsql_NpgsqlBatch_CreateDbBatchCommand_" data-uid="Npgsql.NpgsqlBatch.CreateDbBatchCommand*"></a>

  <h3 id="Npgsql_NpgsqlBatch_CreateDbBatchCommand" data-uid="Npgsql.NpgsqlBatch.CreateDbBatchCommand">
  CreateDbBatchCommand()
  <a class="header-action link-secondary" title="View source" href="https://github.com/npgsql/npgsql/blob/main/src/Npgsql/NpgsqlBatch.cs/#L125"><i class="bi bi-code-slash"></i></a>
  </h3>

  <div class="markdown level1 summary"><p>When overridden in a derived class, creates a new instance of a <a class="xref" href="https://learn.microsoft.com/dotnet/api/system.data.common.dbbatchcommand">DbBatchCommand</a> object.</p>
</div>
  <div class="markdown level1 conceptual"></div>

  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">protected override DbBatchCommand CreateDbBatchCommand()</code></pre>
  </div>


  <h4 class="section">Returns</h4>
  <dl class="parameters">
    <dt><a class="xref" href="https://learn.microsoft.com/dotnet/api/system.data.common.dbbatchcommand">DbBatchCommand</a></dt>
    <dd><p>A <a class="xref" href="https://learn.microsoft.com/dotnet/api/system.data.common.dbbatchcommand">DbBatchCommand</a> object.</p>
</dd>
  </dl>











  <a id="Npgsql_NpgsqlBatch_Dispose_" data-uid="Npgsql.NpgsqlBatch.Dispose*"></a>

  <h3 id="Npgsql_NpgsqlBatch_Dispose" data-uid="Npgsql.NpgsqlBatch.Dispose">
  Dispose()
  <a class="header-action link-secondary" title="View source" href="https://github.com/npgsql/npgsql/blob/main/src/Npgsql/NpgsqlBatch.cs/#L183"><i class="bi bi-code-slash"></i></a>
  </h3>

  <div class="markdown level1 summary"><p>Performs application-defined tasks associated with freeing, releasing, or resetting unmanaged resources.</p>
</div>
  <div class="markdown level1 conceptual"></div>

  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">public override void Dispose()</code></pre>
  </div>













  <a id="Npgsql_NpgsqlBatch_ExecuteDbDataReader_" data-uid="Npgsql.NpgsqlBatch.ExecuteDbDataReader*"></a>

  <h3 id="Npgsql_NpgsqlBatch_ExecuteDbDataReader_System_Data_CommandBehavior_" data-uid="Npgsql.NpgsqlBatch.ExecuteDbDataReader(System.Data.CommandBehavior)">
  ExecuteDbDataReader(CommandBehavior)
  <a class="header-action link-secondary" title="View source" href="https://github.com/npgsql/npgsql/blob/main/src/Npgsql/NpgsqlBatch.cs/#L132"><i class="bi bi-code-slash"></i></a>
  </h3>

  <div class="markdown level1 summary"><p>When overridden in a derived class, executes the batch against its connection, returning a <a class="xref" href="https://learn.microsoft.com/dotnet/api/system.data.common.dbdatareader">DbDataReader</a> which can be used to access the results.</p>
</div>
  <div class="markdown level1 conceptual"></div>

  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">protected override DbDataReader ExecuteDbDataReader(CommandBehavior behavior)</code></pre>
  </div>

  <h4 class="section">Parameters</h4>
  <dl class="parameters">
    <dt><code>behavior</code> <a class="xref" href="https://learn.microsoft.com/dotnet/api/system.data.commandbehavior">CommandBehavior</a></dt>
    <dd><p>An instance of <a class="xref" href="https://learn.microsoft.com/dotnet/api/system.data.commandbehavior">CommandBehavior</a>, specifying options for batch execution and data retrieval.</p>
</dd>
  </dl>

  <h4 class="section">Returns</h4>
  <dl class="parameters">
    <dt><a class="xref" href="https://learn.microsoft.com/dotnet/api/system.data.common.dbdatareader">DbDataReader</a></dt>
    <dd><p>A <a class="xref" href="https://learn.microsoft.com/dotnet/api/system.data.common.dbdatareader">DbDataReader</a> object.</p>
</dd>
  </dl>








  <h4 class="section">Exceptions</h4>
  <dl class="parameters">
    <dt><a class="xref" href="https://learn.microsoft.com/dotnet/api/system.data.common.dbexception">DbException</a></dt>
    <dd><p>An error occurred while executing the batch.</p>
</dd>
    <dt><a class="xref" href="https://learn.microsoft.com/dotnet/api/system.argumentexception">ArgumentException</a></dt>
    <dd><p>The <a class="xref" href="https://learn.microsoft.com/dotnet/api/system.data.commandbehavior">CommandBehavior</a> value is invalid.</p>
</dd>
  </dl>



  <a id="Npgsql_NpgsqlBatch_ExecuteDbDataReaderAsync_" data-uid="Npgsql.NpgsqlBatch.ExecuteDbDataReaderAsync*"></a>

  <h3 id="Npgsql_NpgsqlBatch_ExecuteDbDataReaderAsync_System_Data_CommandBehavior_System_Threading_CancellationToken_" data-uid="Npgsql.NpgsqlBatch.ExecuteDbDataReaderAsync(System.Data.CommandBehavior,System.Threading.CancellationToken)">
  ExecuteDbDataReaderAsync(CommandBehavior, CancellationToken)
  <a class="header-action link-secondary" title="View source" href="https://github.com/npgsql/npgsql/blob/main/src/Npgsql/NpgsqlBatch.cs/#L140"><i class="bi bi-code-slash"></i></a>
  </h3>

  <div class="markdown level1 summary"><p>Providers should implement this method to provide a non-default implementation for <span class="xref">System.Data.Common.DbCommand.ExecuteReader*</span> overloads.</p>
<p>The default implementation invokes the synchronous <a class="xref" href="https://learn.microsoft.com/dotnet/api/system.data.common.dbcommand.executereader#system-data-common-dbcommand-executereader">ExecuteReader()</a> method and returns a completed task, blocking the calling thread. The default implementation will return a cancelled task if passed an already cancelled cancellation token. Exceptions thrown by ExecuteReader will be communicated via the returned Task Exception property.</p>
<p>This method accepts a cancellation token that can be used to request the operation to be cancelled early. Implementations may ignore this request.</p>
</div>
  <div class="markdown level1 conceptual"></div>

  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">protected override Task&lt;DbDataReader&gt; ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)</code></pre>
  </div>

  <h4 class="section">Parameters</h4>
  <dl class="parameters">
    <dt><code>behavior</code> <a class="xref" href="https://learn.microsoft.com/dotnet/api/system.data.commandbehavior">CommandBehavior</a></dt>
    <dd><p>One of the enumeration values that specifies options for batch execution and data retrieval.</p>
</dd>
    <dt><code>cancellationToken</code> <a class="xref" href="https://learn.microsoft.com/dotnet/api/system.threading.cancellationtoken">CancellationToken</a></dt>
    <dd><p>A token to cancel the asynchronous operation.</p>
</dd>
  </dl>

  <h4 class="section">Returns</h4>
  <dl class="parameters">
    <dt><a class="xref" href="https://learn.microsoft.com/dotnet/api/system.threading.tasks.task-1">Task</a>&lt;<a class="xref" href="https://learn.microsoft.com/dotnet/api/system.data.common.dbdatareader">DbDataReader</a>&gt;</dt>
    <dd><p>A task representing the asynchronous operation.</p>
</dd>
  </dl>











  <a id="Npgsql_NpgsqlBatch_ExecuteNonQuery_" data-uid="Npgsql.NpgsqlBatch.ExecuteNonQuery*"></a>

  <h3 id="Npgsql_NpgsqlBatch_ExecuteNonQuery" data-uid="Npgsql.NpgsqlBatch.ExecuteNonQuery">
  ExecuteNonQuery()
  <a class="header-action link-secondary" title="View source" href="https://github.com/npgsql/npgsql/blob/main/src/Npgsql/NpgsqlBatch.cs/#L156"><i class="bi bi-code-slash"></i></a>
  </h3>

  <div class="markdown level1 summary"><p>Executes the batch against its connection object, returning the total number of rows affected across all the batch commands.</p>
</div>
  <div class="markdown level1 conceptual"></div>

  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">public override int ExecuteNonQuery()</code></pre>
  </div>


  <h4 class="section">Returns</h4>
  <dl class="parameters">
    <dt><a class="xref" href="https://learn.microsoft.com/dotnet/api/system.int32">int</a></dt>
    <dd><p>The total number of rows affected across all the batch commands.</p>
</dd>
  </dl>











  <a id="Npgsql_NpgsqlBatch_ExecuteNonQueryAsync_" data-uid="Npgsql.NpgsqlBatch.ExecuteNonQueryAsync*"></a>

  <h3 id="Npgsql_NpgsqlBatch_ExecuteNonQueryAsync_System_Threading_CancellationToken_" data-uid="Npgsql.NpgsqlBatch.ExecuteNonQueryAsync(System.Threading.CancellationToken)">
  ExecuteNonQueryAsync(CancellationToken)
  <a class="header-action link-secondary" title="View source" href="https://github.com/npgsql/npgsql/blob/main/src/Npgsql/NpgsqlBatch.cs/#L160"><i class="bi bi-code-slash"></i></a>
  </h3>

  <div class="markdown level1 summary"><p>This is the asynchronous version of <a class="xref" href="https://learn.microsoft.com/dotnet/api/system.data.common.dbbatch.executenonquery">ExecuteNonQuery()</a>. Providers should override with an appropriate implementation. The cancellation token may optionally be ignored.</p>
<p>The default implementation invokes the synchronous <a class="xref" href="https://learn.microsoft.com/dotnet/api/system.data.common.dbbatch.executenonquery">ExecuteNonQuery()</a> method and returns a completed task, blocking the calling thread. The default implementation will return a cancelled task if passed an already cancelled cancellation token.  Exceptions thrown by <a class="xref" href="https://learn.microsoft.com/dotnet/api/system.data.common.dbbatch.executenonquery">ExecuteNonQuery()</a> will be communicated via the returned Task Exception property.</p>
<p>Do not invoke other methods and properties of the <code>DbCommand</code> object until the returned Task is complete.</p>
</div>
  <div class="markdown level1 conceptual"></div>

  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">public override Task&lt;int&gt; ExecuteNonQueryAsync(CancellationToken cancellationToken = default)</code></pre>
  </div>

  <h4 class="section">Parameters</h4>
  <dl class="parameters">
    <dt><code>cancellationToken</code> <a class="xref" href="https://learn.microsoft.com/dotnet/api/system.threading.cancellationtoken">CancellationToken</a></dt>
    <dd><p>A token to cancel the asynchronous operation.</p>
</dd>
  </dl>

  <h4 class="section">Returns</h4>
  <dl class="parameters">
    <dt><a class="xref" href="https://learn.microsoft.com/dotnet/api/system.threading.tasks.task-1">Task</a>&lt;<a class="xref" href="https://learn.microsoft.com/dotnet/api/system.int32">int</a>&gt;</dt>
    <dd><p>A task representing the asynchronous operation.</p>
</dd>
  </dl>








  <h4 class="section">Exceptions</h4>
  <dl class="parameters">
    <dt><a class="xref" href="https://learn.microsoft.com/dotnet/api/system.data.common.dbexception">DbException</a></dt>
    <dd><p>An error occurred while executing the batch.</p>
</dd>
  </dl>



  <a id="Npgsql_NpgsqlBatch_ExecuteReader_" data-uid="Npgsql.NpgsqlBatch.ExecuteReader*"></a>

  <h3 id="Npgsql_NpgsqlBatch_ExecuteReader_System_Data_CommandBehavior_" data-uid="Npgsql.NpgsqlBatch.ExecuteReader(System.Data.CommandBehavior)">
  ExecuteReader(CommandBehavior)
  <a class="header-action link-secondary" title="View source" href="https://github.com/npgsql/npgsql/blob/main/src/Npgsql/NpgsqlBatch.cs/#L136"><i class="bi bi-code-slash"></i></a>
  </h3>

  <div class="markdown level1 summary"><p>Executes the batch against its connection, returning a <a class="xref" href="https://learn.microsoft.com/dotnet/api/system.data.common.dbdatareader">DbDataReader</a> which can be used to access the results.</p>
</div>
  <div class="markdown level1 conceptual"></div>

  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">public NpgsqlDataReader ExecuteReader(CommandBehavior behavior = CommandBehavior.Default)</code></pre>
  </div>

  <h4 class="section">Parameters</h4>
  <dl class="parameters">
    <dt><code>behavior</code> <a class="xref" href="https://learn.microsoft.com/dotnet/api/system.data.commandbehavior">CommandBehavior</a></dt>
    <dd><p>One of the enumeration values that specifies options for batch execution and data retrieval.</p>
</dd>
  </dl>

  <h4 class="section">Returns</h4>
  <dl class="parameters">
    <dt><a class="xref" href="Npgsql.NpgsqlDataReader.html">NpgsqlDataReader</a></dt>
    <dd><p>A <a class="xref" href="https://learn.microsoft.com/dotnet/api/system.data.common.dbdatareader">DbDataReader</a> object.</p>
</dd>
  </dl>











  <a id="Npgsql_NpgsqlBatch_ExecuteReaderAsync_" data-uid="Npgsql.NpgsqlBatch.ExecuteReaderAsync*"></a>

  <h3 id="Npgsql_NpgsqlBatch_ExecuteReaderAsync_System_Data_CommandBehavior_System_Threading_CancellationToken_" data-uid="Npgsql.NpgsqlBatch.ExecuteReaderAsync(System.Data.CommandBehavior,System.Threading.CancellationToken)">
  ExecuteReaderAsync(CommandBehavior, CancellationToken)
  <a class="header-action link-secondary" title="View source" href="https://github.com/npgsql/npgsql/blob/main/src/Npgsql/NpgsqlBatch.cs/#L150"><i class="bi bi-code-slash"></i></a>
  </h3>

  <div class="markdown level1 summary"><p>An asynchronous version of <span class="xref">System.Data.Common.DbBatch.ExecuteReader*</span>, which executes the batch against its connection, returning a <a class="xref" href="https://learn.microsoft.com/dotnet/api/system.data.common.dbdatareader">DbDataReader</a> which can be used to access the results.</p>
</div>
  <div class="markdown level1 conceptual"></div>

  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">public Task&lt;NpgsqlDataReader&gt; ExecuteReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken = default)</code></pre>
  </div>

  <h4 class="section">Parameters</h4>
  <dl class="parameters">
    <dt><code>behavior</code> <a class="xref" href="https://learn.microsoft.com/dotnet/api/system.data.commandbehavior">CommandBehavior</a></dt>
    <dd><p>One of the enumeration values that specifies options for batch execution and data retrieval.</p>
</dd>
    <dt><code>cancellationToken</code> <a class="xref" href="https://learn.microsoft.com/dotnet/api/system.threading.cancellationtoken">CancellationToken</a></dt>
    <dd><p>A token to cancel the asynchronous operation.</p>
</dd>
  </dl>

  <h4 class="section">Returns</h4>
  <dl class="parameters">
    <dt><a class="xref" href="https://learn.microsoft.com/dotnet/api/system.threading.tasks.task-1">Task</a>&lt;<a class="xref" href="Npgsql.NpgsqlDataReader.html">NpgsqlDataReader</a>&gt;</dt>
    <dd><p>A task representing the asynchronous operation.</p>
</dd>
  </dl>








  <h4 class="section">Exceptions</h4>
  <dl class="parameters">
    <dt><a class="xref" href="https://learn.microsoft.com/dotnet/api/system.data.common.dbexception">DbException</a></dt>
    <dd><p>An error occurred while executing the batch.</p>
</dd>
    <dt><a class="xref" href="https://learn.microsoft.com/dotnet/api/system.argumentexception">ArgumentException</a></dt>
    <dd><p>The <a class="xref" href="https://learn.microsoft.com/dotnet/api/system.data.commandbehavior">CommandBehavior</a> value is invalid.</p>
</dd>
  </dl>



  <a id="Npgsql_NpgsqlBatch_ExecuteReaderAsync_" data-uid="Npgsql.NpgsqlBatch.ExecuteReaderAsync*"></a>

  <h3 id="Npgsql_NpgsqlBatch_ExecuteReaderAsync_System_Threading_CancellationToken_" data-uid="Npgsql.NpgsqlBatch.ExecuteReaderAsync(System.Threading.CancellationToken)">
  ExecuteReaderAsync(CancellationToken)
  <a class="header-action link-secondary" title="View source" href="https://github.com/npgsql/npgsql/blob/main/src/Npgsql/NpgsqlBatch.cs/#L146"><i class="bi bi-code-slash"></i></a>
  </h3>

  <div class="markdown level1 summary"><p>An asynchronous version of <span class="xref">System.Data.Common.DbBatch.ExecuteReader*</span>, which executes the batch against its connection, returning a <a class="xref" href="https://learn.microsoft.com/dotnet/api/system.data.common.dbdatareader">DbDataReader</a> which can be used to access the results.</p>
</div>
  <div class="markdown level1 conceptual"></div>

  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">public Task&lt;NpgsqlDataReader&gt; ExecuteReaderAsync(CancellationToken cancellationToken = default)</code></pre>
  </div>

  <h4 class="section">Parameters</h4>
  <dl class="parameters">
    <dt><code>cancellationToken</code> <a class="xref" href="https://learn.microsoft.com/dotnet/api/system.threading.cancellationtoken">CancellationToken</a></dt>
    <dd></dd>
  </dl>

  <h4 class="section">Returns</h4>
  <dl class="parameters">
    <dt><a class="xref" href="https://learn.microsoft.com/dotnet/api/system.threading.tasks.task-1">Task</a>&lt;<a class="xref" href="Npgsql.NpgsqlDataReader.html">NpgsqlDataReader</a>&gt;</dt>
    <dd><p>A task representing the asynchronous operation.</p>
</dd>
  </dl>








  <h4 class="section">Exceptions</h4>
  <dl class="parameters">
    <dt><a class="xref" href="https://learn.microsoft.com/dotnet/api/system.data.common.dbexception">DbException</a></dt>
    <dd><p>An error occurred while executing the batch.</p>
</dd>
    <dt><a class="xref" href="https://learn.microsoft.com/dotnet/api/system.argumentexception">ArgumentException</a></dt>
    <dd><p>The <a class="xref" href="https://learn.microsoft.com/dotnet/api/system.data.commandbehavior">CommandBehavior</a> value is invalid.</p>
</dd>
  </dl>



  <a id="Npgsql_NpgsqlBatch_ExecuteScalar_" data-uid="Npgsql.NpgsqlBatch.ExecuteScalar*"></a>

  <h3 id="Npgsql_NpgsqlBatch_ExecuteScalar" data-uid="Npgsql.NpgsqlBatch.ExecuteScalar">
  ExecuteScalar()
  <a class="header-action link-secondary" title="View source" href="https://github.com/npgsql/npgsql/blob/main/src/Npgsql/NpgsqlBatch.cs/#L164"><i class="bi bi-code-slash"></i></a>
  </h3>

  <div class="markdown level1 summary"><p>Executes the batch and returns the first column of the first row in the first returned result set. All other columns, rows and resultsets are ignored.</p>
</div>
  <div class="markdown level1 conceptual"></div>

  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">public override object? ExecuteScalar()</code></pre>
  </div>


  <h4 class="section">Returns</h4>
  <dl class="parameters">
    <dt><a class="xref" href="https://learn.microsoft.com/dotnet/api/system.object">object</a></dt>
    <dd><p>The first column of the first row in the first result set.</p>
</dd>
  </dl>








  <h4 class="section">Exceptions</h4>
  <dl class="parameters">
    <dt><a class="xref" href="https://learn.microsoft.com/dotnet/api/system.data.common.dbexception">DbException</a></dt>
    <dd><p>An error occurred while executing the batch.</p>
</dd>
  </dl>



  <a id="Npgsql_NpgsqlBatch_ExecuteScalarAsync_" data-uid="Npgsql.NpgsqlBatch.ExecuteScalarAsync*"></a>

  <h3 id="Npgsql_NpgsqlBatch_ExecuteScalarAsync_System_Threading_CancellationToken_" data-uid="Npgsql.NpgsqlBatch.ExecuteScalarAsync(System.Threading.CancellationToken)">
  ExecuteScalarAsync(CancellationToken)
  <a class="header-action link-secondary" title="View source" href="https://github.com/npgsql/npgsql/blob/main/src/Npgsql/NpgsqlBatch.cs/#L168"><i class="bi bi-code-slash"></i></a>
  </h3>

  <div class="markdown level1 summary"><p>An asynchronous version of <a class="xref" href="https://learn.microsoft.com/dotnet/api/system.data.common.dbbatch.executescalar">ExecuteScalar()</a>, which executes the batch and returns the first column of the first row in the first returned result set. All other columns, rows and result sets are ignored.</p>
</div>
  <div class="markdown level1 conceptual"></div>

  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">public override Task&lt;object?&gt; ExecuteScalarAsync(CancellationToken cancellationToken = default)</code></pre>
  </div>

  <h4 class="section">Parameters</h4>
  <dl class="parameters">
    <dt><code>cancellationToken</code> <a class="xref" href="https://learn.microsoft.com/dotnet/api/system.threading.cancellationtoken">CancellationToken</a></dt>
    <dd><p>A token to cancel the asynchronous operation.</p>
</dd>
  </dl>

  <h4 class="section">Returns</h4>
  <dl class="parameters">
    <dt><a class="xref" href="https://learn.microsoft.com/dotnet/api/system.threading.tasks.task-1">Task</a>&lt;<a class="xref" href="https://learn.microsoft.com/dotnet/api/system.object">object</a>&gt;</dt>
    <dd><p>The first column of the first row in the first result set.</p>
</dd>
  </dl>








  <h4 class="section">Exceptions</h4>
  <dl class="parameters">
    <dt><a class="xref" href="https://learn.microsoft.com/dotnet/api/system.data.common.dbexception">DbException</a></dt>
    <dd><p>An error occurred while executing the batch.</p>
</dd>
  </dl>



  <a id="Npgsql_NpgsqlBatch_Prepare_" data-uid="Npgsql.NpgsqlBatch.Prepare*"></a>

  <h3 id="Npgsql_NpgsqlBatch_Prepare" data-uid="Npgsql.NpgsqlBatch.Prepare">
  Prepare()
  <a class="header-action link-secondary" title="View source" href="https://github.com/npgsql/npgsql/blob/main/src/Npgsql/NpgsqlBatch.cs/#L172"><i class="bi bi-code-slash"></i></a>
  </h3>

  <div class="markdown level1 summary"><p>Creates a prepared (or compiled) version of the batch, or of each of its commands, on the data source.</p>
</div>
  <div class="markdown level1 conceptual"></div>

  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">public override void Prepare()</code></pre>
  </div>













  <a id="Npgsql_NpgsqlBatch_PrepareAsync_" data-uid="Npgsql.NpgsqlBatch.PrepareAsync*"></a>

  <h3 id="Npgsql_NpgsqlBatch_PrepareAsync_System_Threading_CancellationToken_" data-uid="Npgsql.NpgsqlBatch.PrepareAsync(System.Threading.CancellationToken)">
  PrepareAsync(CancellationToken)
  <a class="header-action link-secondary" title="View source" href="https://github.com/npgsql/npgsql/blob/main/src/Npgsql/NpgsqlBatch.cs/#L176"><i class="bi bi-code-slash"></i></a>
  </h3>

  <div class="markdown level1 summary"><p>Asynchronously creates a prepared (or compiled) version of the batch, or of each of its commands, on the data source.</p>
</div>
  <div class="markdown level1 conceptual"></div>

  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">public override Task PrepareAsync(CancellationToken cancellationToken = default)</code></pre>
  </div>

  <h4 class="section">Parameters</h4>
  <dl class="parameters">
    <dt><code>cancellationToken</code> <a class="xref" href="https://learn.microsoft.com/dotnet/api/system.threading.cancellationtoken">CancellationToken</a></dt>
    <dd><p>An optional token to cancel the asynchronous operation. The default value is <a class="xref" href="https://learn.microsoft.com/dotnet/api/system.threading.cancellationtoken.none">None</a>.</p>
</dd>
  </dl>

  <h4 class="section">Returns</h4>
  <dl class="parameters">
    <dt><a class="xref" href="https://learn.microsoft.com/dotnet/api/system.threading.tasks.task">Task</a></dt>
    <dd><p>A <a class="xref" href="https://learn.microsoft.com/dotnet/api/system.threading.tasks.task">Task</a> representing the asynchronous operation.</p>
</dd>
  </dl>












</article>

        <div class="contribution d-print-none">
          <a href="https://github.com/npgsql/npgsql/blob/main/src/Npgsql/NpgsqlBatch.cs/#L11" class="edit-link">Edit this page</a>
        </div>


      </div>

      <div class="affix">
        <nav id="affix"></nav>
      </div>
    </main>

    <div class="container-xxl search-results" id="search-results"></div>

    <footer class="border-top text-secondary">
      <div class="container-xxl">
        <div class="flex-fill">
          © Copyright 2024 The Npgsql Development Team
        </div>
      </div>
    </footer>
  </body>
</html>
