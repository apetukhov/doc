<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
      <title>Npgsql 3.1 Release Notes | Npgsql Documentation </title>
      <meta name="viewport" content="width=device-width, initial-scale=1.0">
      <meta name="title" content="Npgsql 3.1 Release Notes | Npgsql Documentation ">
      
      
      <link rel="icon" href="../../favicon.ico">
      <link rel="stylesheet" href="../../public/docfx.min.css">
      <link rel="stylesheet" href="../../public/main.css">
      <meta name="docfx:navrel" content="../../toc.html">
      <meta name="docfx:tocrel" content="../toc.html">
      
      <meta name="docfx:rel" content="../../">
      
      
      <meta name="docfx:docurl" content="https://github.com/npgsql/doc/blob/main/conceptual/Npgsql/release-notes/3.1.md/#L1">
      <meta name="loc:inThisArticle" content="In this article">
      <meta name="loc:searchResultsCount" content="{count} results for &quot;{query}&quot;">
      <meta name="loc:searchNoResults" content="No results for &quot;{query}&quot;">
      <meta name="loc:tocFilter" content="Filter by title">
      <meta name="loc:nextArticle" content="Next">
      <meta name="loc:prevArticle" content="Previous">
      <meta name="loc:themeLight" content="Light">
      <meta name="loc:themeDark" content="Dark">
      <meta name="loc:themeAuto" content="Auto">
      <meta name="loc:changeTheme" content="Change theme">
      <meta name="loc:copy" content="Copy">
      <meta name="loc:downloadPdf" content="Download PDF">

      <script type="module" src="./../../public/docfx.min.js"></script>

      <script>
        const theme = localStorage.getItem('theme') || 'auto'
        document.documentElement.setAttribute('data-bs-theme', theme === 'auto' ? (window.matchMedia('(prefers-color-scheme: dark)').matches ? 'dark' : 'light') : theme)
      </script>

  </head>

  <body class="tex2jax_ignore" data-layout="" data-yaml-mime="">
    <header class="bg-body border-bottom">
      <nav id="autocollapse" class="navbar navbar-expand-md" role="navigation">
        <div class="container-xxl flex-nowrap">
          <a class="navbar-brand" href="../../index.html">
            <img id="logo" class="svg" src="../../img/logo.svg" alt="">
            
          </a>
          <button class="btn btn-lg d-md-none border-0" type="button" data-bs-toggle="collapse" data-bs-target="#navpanel" aria-controls="navpanel" aria-expanded="false" aria-label="Toggle navigation">
            <i class="bi bi-three-dots"></i>
          </button>
          <div class="collapse navbar-collapse" id="navpanel">
            <div id="navbar">
              <form class="search" role="search" id="search">
                <i class="bi bi-search"></i>
                <input class="form-control" id="search-query" type="search" disabled="" placeholder="Search" autocomplete="off" aria-label="Search">
              </form>
            </div>
          </div>
        </div>
      </nav>
    </header>

    <main class="container-xxl">
      <div class="toc-offcanvas">
        <div class="offcanvas-md offcanvas-start" tabindex="-1" id="tocOffcanvas" aria-labelledby="tocOffcanvasLabel">
          <div class="offcanvas-header">
            <h5 class="offcanvas-title" id="tocOffcanvasLabel">Table of Contents</h5>
            <button type="button" class="btn-close" data-bs-dismiss="offcanvas" data-bs-target="#tocOffcanvas" aria-label="Close"></button>
          </div>
          <div class="offcanvas-body">
            <nav class="toc" id="toc"></nav>
          </div>
        </div>
      </div>

      <div class="content">
        <div class="actionbar">
          <button class="btn btn-lg border-0 d-md-none" type="button" data-bs-toggle="offcanvas" data-bs-target="#tocOffcanvas" aria-controls="tocOffcanvas" aria-expanded="false" aria-label="Show table of contents">
            <i class="bi bi-list"></i>
          </button>

          <nav id="breadcrumb"></nav>
        </div>

        <article data-uid="">
<h1 id="npgsql-31-release-notes">Npgsql 3.1 Release Notes</h1>

<h2 id="migrating-from-30-to-31">Migrating from 3.0 to 3.1</h2>
<ul>
<li>CommandTimeout used to be implemented with PostgreSQL's <code>statement_timeout</code> parameter, but this wasn't a very reliable method and has been removed. CommandTimeout is now implemented via socket timeouts only, see <a href="https://github.com/npgsql/npgsql/issues/689">#689</a> for more details. Note that if a socket timeout occurs, the connection is broken and must be reopened.</li>
<li>The <a href="../connection-string-parameters.html#security-and-encryption"><code>Persist Security Info</code></a> parameter has been implemented and is false by default. This means that once a connection has been opened, you will not be able to get its password.</li>
<li>Removed ContinuousProcessing mode, and replaced it with <a href="../wait.html">Wait</a>, a simpler and less bug-prone mechanism for consuming asynchronous notifications (<a href="https://github.com/npgsql/npgsql/issues/1024">#1024</a>).</li>
<li>The <code>Maximum Pool Size</code> connection is parameter is now 100 default instead of 20 (this is default in SqlClient, pg_bouncer...).</li>
<li>The <code>Connection Lifetime</code> parameter has been renamed to <code>Connection Idle Lifetime</code>, and its default has been changed from 15 to 300. Also, once the number of seconds has elapsed the connection is closed immediately; the previous behavior closed half of the connections.</li>
<li><code>RegisterEnum</code> and <code>RegisterEnumGlobally</code> have been renamed to <code>MapEnum</code> and <code>MapEnumGlobally</code> respectively.</li>
<li>If you used enum mapping in 3.0, the strategy for translating between CLR and PostgreSQL type names has changed. In 3.0 Npgsql simply used the CLR name (e.g. SomeField) as the PostgreSQL name; Npgsql 3.1 uses a user-definable name translator, default to snake case (e.g. some_field). See <a href="https://github.com/npgsql/npgsql/issues/859">#859</a>.</li>
<li>The <code>EnumLabel</code> attribute has been replaced by the <code>PgName</code> attribute (which is also used for the new composite type support).</li>
<li>When PostgreSQL sends an error, it is no longer raised by an NpgsqlException but by a PostgresException. PostgresException is a subclass of NpgsqlException so code catching NpgsqlException should still work, but the PostgreSQL-specific exception properties will only be available on PostgresException.</li>
<li>The Code property on NpgsqlException has been renamed to SqlState. It has also been moved to PostgresException.</li>
<li>NpgsqlNotice has been renamed to PostgresNotice</li>
<li>For multistatement commands, PostgreSQL parse errors will now be thrown only when the user calls NextResult() and gets to the problematic statement.</li>
<li>It is no longer possible to dispose a prepared statement while a reader is still open. Since disposing a prepared statement includes database interaction, the connection must be idle.</li>
<li>Removed <code>NpgsqlConnection.SupportsHexByteFormat</code>.</li>
<li>Renamed <code>NpgsqlConnection.Supports_E_StringPrefix</code> to <code>SupportsEStringPrefix</code>.</li>
</ul>
<h2 id="contributors">Contributors</h2>
<p>Thank you very much to the following people who have contributed to the individual 3.1.x. releases.</p>
<h3 id="milestone-3110"><a href="https://github.com/Npgsql/Npgsql/issues?q=is%3Aissue+milestone%3A3.1.10">Milestone 3.1.10</a></h3>
<table>
<thead>
<tr>
<th>Contributor</th>
<th style="text-align: right;">Assigned issues</th>
</tr>
</thead>
<tbody>
<tr>
<td><a href="https://github.com/roji">@roji</a></td>
<td style="text-align: right;"><a href="https://github.com/Npgsql/Npgsql/issues?q=is%3Aissue+milestone%3A3.1.10+is%3Aclosed+assignee%3Aroji">5</a></td>
</tr>
</tbody>
</table>
<h3 id="milestone-319"><a href="https://github.com/npgsql/npgsql/issues?q=is%3Aissue+milestone%3A3.1.9">Milestone 3.1.9</a></h3>
<table>
<thead>
<tr>
<th>Contributor</th>
<th style="text-align: right;">Assigned issues</th>
</tr>
</thead>
<tbody>
<tr>
<td><a href="https://github.com/roji">@roji</a></td>
<td style="text-align: right;"><a href="https://github.com/npgsql/npgsql/issues?q=is%3Aissue+milestone%3A3.1.9+is%3Aclosed+assignee%3Aroji">10</a></td>
</tr>
<tr>
<td><a href="https://github.com/DaveVdE">@DaveVdE</a></td>
<td style="text-align: right;"><a href="https://github.com/npgsql/npgsql/issues?q=is%3Aissue+milestone%3A3.1.9+is%3Aclosed+assignee%3ADaveVdE">1</a></td>
</tr>
<tr>
<td><a href="https://github.com/rwasef1830">@rwasef1830</a></td>
<td style="text-align: right;"><a href="https://github.com/npgsql/npgsql/issues?q=is%3Aissue+milestone%3A3.1.9+is%3Aclosed+assignee%3Arwasef1830">1</a></td>
</tr>
</tbody>
</table>
<h3 id="milestone-318"><a href="https://github.com/npgsql/npgsql/issues?q=is%3Aissue+milestone%3A3.1.8">Milestone 3.1.8</a></h3>
<table>
<thead>
<tr>
<th>Contributor</th>
<th style="text-align: right;">Assigned issues</th>
</tr>
</thead>
<tbody>
<tr>
<td><a href="https://github.com/roji">@roji</a></td>
<td style="text-align: right;"><a href="https://github.com/npgsql/npgsql/issues?q=is%3Aissue+milestone%3A3.1.8+is%3Aclosed+assignee%3Aroji">10</a></td>
</tr>
</tbody>
</table>
<h3 id="milestone-317"><a href="https://github.com/npgsql/npgsql/issues?q=is%3Aissue+milestone%3A3.1.7">Milestone 3.1.7</a></h3>
<table>
<thead>
<tr>
<th>Contributor</th>
<th style="text-align: right;">Assigned issues</th>
</tr>
</thead>
<tbody>
<tr>
<td><a href="https://github.com/roji">@roji</a></td>
<td style="text-align: right;"><a href="https://github.com/npgsql/npgsql/issues?q=is%3Aissue+milestone%3A3.1.7+is%3Aclosed+assignee%3Aroji">7</a></td>
</tr>
</tbody>
</table>
<h3 id="milestone-316"><a href="https://github.com/npgsql/npgsql/issues?q=is%3Aissue+milestone%3A3.1.6">Milestone 3.1.6</a></h3>
<table>
<thead>
<tr>
<th>Contributor</th>
<th style="text-align: right;">Assigned issues</th>
</tr>
</thead>
<tbody>
<tr>
<td><a href="https://github.com/roji">@roji</a></td>
<td style="text-align: right;"><a href="https://github.com/npgsql/npgsql/issues?q=is%3Aissue+milestone%3A3.1.6+is%3Aclosed+assignee%3Aroji">5</a></td>
</tr>
</tbody>
</table>
<h3 id="milestone-315"><a href="https://github.com/npgsql/npgsql/issues?q=is%3Aissue+milestone%3A3.1.5">Milestone 3.1.5</a></h3>
<table>
<thead>
<tr>
<th>Contributor</th>
<th style="text-align: right;">Assigned issues</th>
</tr>
</thead>
<tbody>
<tr>
<td><a href="https://github.com/roji">@roji</a></td>
<td style="text-align: right;"><a href="https://github.com/npgsql/npgsql/issues?q=is%3Aissue+milestone%3A3.1.5+is%3Aclosed+assignee%3Aroji">4</a></td>
</tr>
</tbody>
</table>
<h3 id="milestone-314"><a href="https://github.com/npgsql/npgsql/issues?q=is%3Aissue+milestone%3A3.1.4">Milestone 3.1.4</a></h3>
<table>
<thead>
<tr>
<th>Contributor</th>
<th style="text-align: right;">Assigned issues</th>
</tr>
</thead>
<tbody>
<tr>
<td><a href="https://github.com/roji">@roji</a></td>
<td style="text-align: right;"><a href="https://github.com/npgsql/npgsql/issues?q=is%3Aissue+milestone%3A3.1.4+is%3Aclosed+assignee%3Aroji">2</a></td>
</tr>
</tbody>
</table>
<h3 id="milestone-313"><a href="https://github.com/npgsql/npgsql/issues?q=is%3Aissue+milestone%3A3.1.3">Milestone 3.1.3</a></h3>
<table>
<thead>
<tr>
<th>Contributor</th>
<th style="text-align: right;">Assigned issues</th>
</tr>
</thead>
<tbody>
<tr>
<td><a href="https://github.com/roji">@roji</a></td>
<td style="text-align: right;"><a href="https://github.com/npgsql/npgsql/issues?q=is%3Aissue+milestone%3A3.1.3+is%3Aclosed+assignee%3Aroji">10</a></td>
</tr>
</tbody>
</table>
<h3 id="milestone-312"><a href="https://github.com/npgsql/npgsql/issues?q=is%3Aissue+milestone%3A3.1.2">Milestone 3.1.2</a></h3>
<table>
<thead>
<tr>
<th>Contributor</th>
<th style="text-align: right;">Assigned issues</th>
</tr>
</thead>
<tbody>
<tr>
<td><a href="https://github.com/roji">@roji</a></td>
<td style="text-align: right;"><a href="https://github.com/npgsql/npgsql/issues?q=is%3Aissue+milestone%3A3.1.2+is%3Aclosed+assignee%3Aroji">1</a></td>
</tr>
</tbody>
</table>
<h3 id="milestone-3110-1"><a href="https://github.com/npgsql/npgsql/issues?q=is%3Aissue+milestone%3A3.1.10">Milestone 3.1.10</a></h3>
<table>
<thead>
<tr>
<th>Contributor</th>
<th style="text-align: right;">Assigned issues</th>
</tr>
</thead>
<tbody>
<tr>
<td><a href="https://github.com/roji">@roji</a></td>
<td style="text-align: right;"><a href="https://github.com/npgsql/npgsql/issues?q=is%3Aissue+milestone%3A3.1.10+is%3Aclosed+assignee%3Aroji">5</a></td>
</tr>
</tbody>
</table>
<h3 id="milestone-311"><a href="https://github.com/npgsql/npgsql/issues?q=is%3Aissue+milestone%3A3.1.1">Milestone 3.1.1</a></h3>
<table>
<thead>
<tr>
<th>Contributor</th>
<th style="text-align: right;">Assigned issues</th>
</tr>
</thead>
<tbody>
<tr>
<td><a href="https://github.com/roji">@roji</a></td>
<td style="text-align: right;"><a href="https://github.com/npgsql/npgsql/issues?q=is%3Aissue+milestone%3A3.1.1+is%3Aclosed+assignee%3Aroji">5</a></td>
</tr>
</tbody>
</table>
<h3 id="milestone-310"><a href="https://github.com/npgsql/npgsql/issues?q=is%3Aissue+milestone%3A3.1.0">Milestone 3.1.0</a></h3>
<table>
<thead>
<tr>
<th>Contributor</th>
<th style="text-align: right;">Assigned issues</th>
</tr>
</thead>
<tbody>
<tr>
<td><a href="https://github.com/roji">@roji</a></td>
<td style="text-align: right;"><a href="https://github.com/npgsql/npgsql/issues?q=is%3Aissue+milestone%3A3.1.0+is%3Aclosed+assignee%3Aroji">24</a></td>
</tr>
<tr>
<td><a href="https://github.com/Emill">@Emill</a></td>
<td style="text-align: right;"><a href="https://github.com/npgsql/npgsql/issues?q=is%3Aissue+milestone%3A3.1.0+is%3Aclosed+assignee%3AEmill">2</a></td>
</tr>
</tbody>
</table>

</article>

        <div class="contribution d-print-none">
          <a href="https://github.com/npgsql/doc/blob/main/conceptual/Npgsql/release-notes/3.1.md/#L1" class="edit-link">Edit this page</a>
        </div>

        <div class="next-article d-print-none border-top" id="nextArticle"></div>

      </div>

      <div class="affix">
        <nav id="affix"></nav>
      </div>
    </main>

    <div class="container-xxl search-results" id="search-results"></div>

    <footer class="border-top text-secondary">
      <div class="container-xxl">
        <div class="flex-fill">
          © Copyright 2024 The Npgsql Development Team
        </div>
      </div>
    </footer>
  </body>
</html>
