<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
      <title>Connection String Parameters | Npgsql Documentation </title>
      <meta name="viewport" content="width=device-width, initial-scale=1.0">
      <meta name="title" content="Connection String Parameters | Npgsql Documentation ">
      
      
      <link rel="icon" href="../favicon.ico">
      <link rel="stylesheet" href="../public/docfx.min.css">
      <link rel="stylesheet" href="../public/main.css">
      <meta name="docfx:navrel" content="../toc.html">
      <meta name="docfx:tocrel" content="toc.html">
      
      <meta name="docfx:rel" content="../">
      
      
      <meta name="docfx:docurl" content="https://github.com/npgsql/doc/blob/main/conceptual/Npgsql/connection-string-parameters.md/#L1">
      <meta name="loc:inThisArticle" content="In this article">
      <meta name="loc:searchResultsCount" content="{count} results for &quot;{query}&quot;">
      <meta name="loc:searchNoResults" content="No results for &quot;{query}&quot;">
      <meta name="loc:tocFilter" content="Filter by title">
      <meta name="loc:nextArticle" content="Next">
      <meta name="loc:prevArticle" content="Previous">
      <meta name="loc:themeLight" content="Light">
      <meta name="loc:themeDark" content="Dark">
      <meta name="loc:themeAuto" content="Auto">
      <meta name="loc:changeTheme" content="Change theme">
      <meta name="loc:copy" content="Copy">
      <meta name="loc:downloadPdf" content="Download PDF">

      <script type="module" src="./../public/docfx.min.js"></script>

      <script>
        const theme = localStorage.getItem('theme') || 'auto'
        document.documentElement.setAttribute('data-bs-theme', theme === 'auto' ? (window.matchMedia('(prefers-color-scheme: dark)').matches ? 'dark' : 'light') : theme)
      </script>

  </head>

  <body class="tex2jax_ignore" data-layout="" data-yaml-mime="">
    <header class="bg-body border-bottom">
      <nav id="autocollapse" class="navbar navbar-expand-md" role="navigation">
        <div class="container-xxl flex-nowrap">
          <a class="navbar-brand" href="../index.html">
            <img id="logo" class="svg" src="../logo.svg" alt="">
            
          </a>
          <button class="btn btn-lg d-md-none border-0" type="button" data-bs-toggle="collapse" data-bs-target="#navpanel" aria-controls="navpanel" aria-expanded="false" aria-label="Toggle navigation">
            <i class="bi bi-three-dots"></i>
          </button>
          <div class="collapse navbar-collapse" id="navpanel">
            <div id="navbar">
              <form class="search" role="search" id="search">
                <i class="bi bi-search"></i>
                <input class="form-control" id="search-query" type="search" disabled="" placeholder="Search" autocomplete="off" aria-label="Search">
              </form>
            </div>
          </div>
        </div>
      </nav>
    </header>

    <main class="container-xxl">
      <div class="toc-offcanvas">
        <div class="offcanvas-md offcanvas-start" tabindex="-1" id="tocOffcanvas" aria-labelledby="tocOffcanvasLabel">
          <div class="offcanvas-header">
            <h5 class="offcanvas-title" id="tocOffcanvasLabel">Table of Contents</h5>
            <button type="button" class="btn-close" data-bs-dismiss="offcanvas" data-bs-target="#tocOffcanvas" aria-label="Close"></button>
          </div>
          <div class="offcanvas-body">
            <nav class="toc" id="toc"></nav>
          </div>
        </div>
      </div>

      <div class="content">
        <div class="actionbar">
          <button class="btn btn-lg border-0 d-md-none" type="button" data-bs-toggle="offcanvas" data-bs-target="#tocOffcanvas" aria-controls="tocOffcanvas" aria-expanded="false" aria-label="Show table of contents">
            <i class="bi bi-list"></i>
          </button>

          <nav id="breadcrumb"></nav>
        </div>

        <article data-uid="">
<h1 id="connection-string-parameters">Connection String Parameters</h1>

<p>To connect to a database, the application provides a connection string which specifies parameters such as the host, the username, the password, etc. Connection strings have the form <code>keyword1=value; keyword2=value;</code> and are case-insensitive. Values containing special characters (e.g. semicolons) can be double-quoted. For more information, <a href="https://docs.microsoft.com/en-us/dotnet/framework/data/adonet/connection-strings">see the official doc page on connection strings</a>.</p>
<p>Below are the connection string parameters which Npgsql understands, as well as some standard PostgreSQL environment variables.</p>
<h2 id="basic-connection">Basic connection</h2>
<table>
<thead>
<tr>
<th>Parameter</th>
<th>Description</th>
<th>Default</th>
</tr>
</thead>
<tbody>
<tr>
<td>Host</td>
<td>Specifies the host name - and optionally port - on which PostgreSQL is running. Multiple hosts may be specified, <a href="failover-and-load-balancing.html">see the docs for more info</a>. If the value begins with a slash, it is used as the directory for the Unix-domain socket (specifying a <code>Port</code> is still required).</td>
<td><em>Required</em></td>
</tr>
<tr>
<td>Port</td>
<td>The TCP port of the PostgreSQL server.</td>
<td>5432</td>
</tr>
<tr>
<td>Database</td>
<td>The PostgreSQL database to connect to.</td>
<td>Same as Username</td>
</tr>
<tr>
<td>Username</td>
<td>The username to connect with. If not specified, the OS username will be used.</td>
<td>PGUSER</td>
</tr>
<tr>
<td>Password</td>
<td>The password to connect with. Not required if using GSS/SSPI.</td>
<td>PGPASSWORD</td>
</tr>
<tr>
<td>Passfile</td>
<td>Path to a PostgreSQL password file (PGPASSFILE), from which the password is taken.</td>
<td>PGPASSFILE</td>
</tr>
</tbody>
</table>
<h2 id="security-and-encryption">Security and encryption</h2>
<table>
<thead>
<tr>
<th>Parameter</th>
<th>Description</th>
<th>Default</th>
</tr>
</thead>
<tbody>
<tr>
<td>SSL Mode</td>
<td>Controls whether SSL is used, depending on server support. <a href="security.html">See docs for possible values and more info</a>.</td>
<td>Prefer</td>
</tr>
<tr>
<td>Trust Server Certificate</td>
<td>Whether to trust the server certificate without validating it. <a href="security.html">See docs for more info</a>.</td>
<td>false</td>
</tr>
<tr>
<td>SSL Certificate</td>
<td>Location of a client certificate to be sent to the server. <a href="security.html">See docs</a>.</td>
<td>PGSSLCERT</td>
</tr>
<tr>
<td>SSL Key</td>
<td>Location of a client key for a client certificate to be sent to the server.</td>
<td>PGSSLKEY</td>
</tr>
<tr>
<td>SSL Password</td>
<td>Password for a key for a client certificate.</td>
<td></td>
</tr>
<tr>
<td>Root Certificate</td>
<td>Location of a CA certificate used to validate the server certificate.</td>
<td>PGSSLROOTCERT</td>
</tr>
<tr>
<td>Check Certificate Revocation</td>
<td>Whether to check the certificate revocation list during authentication.</td>
<td>false</td>
</tr>
<tr>
<td>Channel Binding</td>
<td>Control whether channel binding is used when authenticating with SASL. Introduced in 8.0.</td>
<td>Prefer</td>
</tr>
<tr>
<td>Persist Security Info</td>
<td>Gets or sets a Boolean value that indicates if security-sensitive information, such as the password, is not returned as part of the connection if the connection is open or has ever been in an open state.</td>
<td>false</td>
</tr>
<tr>
<td>Kerberos Service Name</td>
<td>The Kerberos service name to be used for authentication. <a href="security.html">See docs for more info</a>.</td>
<td>postgres</td>
</tr>
<tr>
<td>Include Realm</td>
<td>The Kerberos realm to be used for authentication. <a href="security.html">See docs for more info</a>.</td>
<td></td>
</tr>
<tr>
<td>Include Error Detail</td>
<td>When enabled, PostgreSQL error and notice details are included on <a class="xref" href="api/Npgsql.PostgresException.html#Npgsql_PostgresException_Detail">PostgresException.Detail</a> and <a class="xref" href="api/Npgsql.PostgresNotice.html#Npgsql_PostgresNotice_Detail">PostgresNotice.Detail</a>. These can contain sensitive data.</td>
<td>false</td>
</tr>
<tr>
<td>Log Parameters</td>
<td>When enabled, parameter values are logged when commands are executed.</td>
<td>false</td>
</tr>
</tbody>
</table>
<h2 id="pooling">Pooling</h2>
<table>
<thead>
<tr>
<th>Parameter</th>
<th>Description</th>
<th>Default</th>
</tr>
</thead>
<tbody>
<tr>
<td>Pooling</td>
<td>Whether connection pooling should be used.</td>
<td>true</td>
</tr>
<tr>
<td>Minimum Pool Size</td>
<td>The minimum connection pool size.</td>
<td>0</td>
</tr>
<tr>
<td>Maximum Pool Size</td>
<td>The maximum connection pool size.</td>
<td>100 since 3.1, 20 previously</td>
</tr>
<tr>
<td>Connection Idle Lifetime</td>
<td>The time (in seconds) to wait before closing idle connections in the pool if the count of all connections exceeds <code>Minimum Pool Size</code>. Introduced in 3.1.</td>
<td>300</td>
</tr>
<tr>
<td>Connection Pruning Interval</td>
<td>How many seconds the pool waits before attempting to prune idle connections that are beyond idle lifetime (see <code>Connection Idle Lifetime</code>). Introduced in 3.1.</td>
<td>10</td>
</tr>
<tr>
<td>Connection Lifetime</td>
<td>The total maximum lifetime of connections (in seconds). Connections which have exceeded this value will be destroyed instead of returned from the pool. This is useful in clustered configurations to force load balancing between a running server and a server just brought online.</td>
<td>0 (disabled)</td>
</tr>
</tbody>
</table>
<h2 id="timeouts-and-keepalive">Timeouts and keepalive</h2>
<table>
<thead>
<tr>
<th>Parameter</th>
<th>Description</th>
<th>Default</th>
</tr>
</thead>
<tbody>
<tr>
<td>Timeout</td>
<td>The time to wait (in seconds) while trying to establish a connection before terminating the attempt and generating an error.</td>
<td>15</td>
</tr>
<tr>
<td>Command Timeout</td>
<td>The time to wait (in seconds) while trying to execute a command before terminating the attempt and generating an error. Set to zero for infinity.</td>
<td>30</td>
</tr>
<tr>
<td>Cancellation Timeout</td>
<td>The time to wait (in milliseconds) while trying to read a response for a cancellation request for a timed out or cancelled query, before terminating the attempt and generating an error. -1 skips the wait, 0 means infinite wait. Introduced in 5.0.</td>
<td>2000</td>
</tr>
<tr>
<td>Keepalive</td>
<td>The number of seconds of connection inactivity before Npgsql sends a keepalive query.</td>
<td>0 (disabled)</td>
</tr>
<tr>
<td>Tcp Keepalive</td>
<td>Whether to use TCP keepalive with system defaults if overrides isn't specified.</td>
<td>false</td>
</tr>
<tr>
<td>Tcp Keepalive Time</td>
<td>The number of seconds of connection inactivity before a TCP keepalive query is sent. Use of this option is discouraged, use KeepAlive instead if possible.</td>
<td>0 (disabled)</td>
</tr>
<tr>
<td>Tcp Keepalive Interval</td>
<td>The interval, in seconds, between when successive keep-alive packets are sent if no acknowledgement is received. <code>Tcp KeepAlive Time</code> must be non-zero as well.</td>
<td>value of <code>Tcp Keepalive Time</code></td>
</tr>
</tbody>
</table>
<h2 id="performance">Performance</h2>
<table>
<thead>
<tr>
<th>Parameter</th>
<th>Description</th>
<th>Default</th>
</tr>
</thead>
<tbody>
<tr>
<td>Max Auto Prepare</td>
<td>The maximum number SQL statements that can be automatically prepared at any given point. Beyond this number the least-recently-used statement will be recycled. Zero disables automatic preparation.</td>
<td>0</td>
</tr>
<tr>
<td>Auto Prepare Min Usages</td>
<td>The minimum number of usages an SQL statement is used before it's automatically prepared.</td>
<td>5</td>
</tr>
<tr>
<td>Read Buffer Size</td>
<td>Determines the size of the internal buffer Npgsql uses when reading. Increasing may improve performance if transferring large values from the database.</td>
<td>8192</td>
</tr>
<tr>
<td>Write Buffer Size</td>
<td>Determines the size of the internal buffer Npgsql uses when writing. Increasing may improve performance if transferring large values to the database.</td>
<td>8192</td>
</tr>
<tr>
<td>Socket Receive Buffer Size</td>
<td>Determines the size of socket receive buffer.</td>
<td>System-dependent</td>
</tr>
<tr>
<td>Socket Send Buffer Size</td>
<td>Determines the size of socket send buffer.</td>
<td>System-dependent</td>
</tr>
<tr>
<td>No Reset On Close</td>
<td>Improves performance in some cases by not resetting the connection state when it is returned to the pool, at the cost of leaking state. Use only if benchmarking shows a performance improvement</td>
<td>false</td>
</tr>
</tbody>
</table>
<h2 id="failover-and-load-balancing">Failover and load balancing</h2>
<p>For more information, <a href="failover-and-load-balancing.html">see the dedicated docs page</a>.</p>
<table>
<thead>
<tr>
<th>Parameter</th>
<th>Description</th>
<th>Default</th>
</tr>
</thead>
<tbody>
<tr>
<td>Target Session Attributes</td>
<td>Determines the preferred PostgreSQL target server type.</td>
<td>PGTARGETSESSIONATTRS, Any</td>
</tr>
<tr>
<td>Load Balance Hosts</td>
<td>Enables balancing between multiple hosts by round-robin.</td>
<td>false</td>
</tr>
<tr>
<td>Host Recheck Seconds</td>
<td>Controls for how long the host's cached state will be considered as valid.</td>
<td>10</td>
</tr>
</tbody>
</table>
<h2 id="misc">Misc</h2>
<table>
<thead>
<tr>
<th>Parameter</th>
<th>Description</th>
<th>Default</th>
</tr>
</thead>
<tbody>
<tr>
<td>Options<sup><a href="#misc_sup_1">1</a></sup></td>
<td>Specifies any valid <a href="https://www.postgresql.org/docs/current/libpq-connect.html#LIBPQ-CONNECT-OPTIONS">PostgreSQL connection options</a> (e.g. <code>Options=-c synchronous_commit=local</code>). Introduced in 5.0.</td>
<td>PGOPTIONS</td>
</tr>
<tr>
<td>Application Name</td>
<td>The optional application name parameter to be sent to the backend during connection initiation.</td>
<td></td>
</tr>
<tr>
<td>Enlist</td>
<td>Whether to enlist in an ambient TransactionScope.</td>
<td>true</td>
</tr>
<tr>
<td>Search Path</td>
<td>Sets the schema search path.</td>
<td></td>
</tr>
<tr>
<td>Client Encoding</td>
<td>Gets or sets the client_encoding parameter.</td>
<td>PGCLIENTENCODING, UTF8</td>
</tr>
<tr>
<td>Encoding</td>
<td>Gets or sets the .NET encoding that will be used to encode/decode PostgreSQL string data.</td>
<td>UTF8</td>
</tr>
<tr>
<td>Timezone</td>
<td>Gets or sets the session timezone.</td>
<td>PGTZ</td>
</tr>
<tr>
<td>EF Template Database</td>
<td>The database template to specify when creating a database in Entity Framework.</td>
<td>template1</td>
</tr>
<tr>
<td>EF Admin Database</td>
<td>The database admin to specify when creating and dropping a database in Entity Framework.</td>
<td>template1</td>
</tr>
<tr>
<td>Load Table Composites</td>
<td>Load table composite type definitions, and not just free-standing composite types.</td>
<td>false</td>
</tr>
<tr>
<td>Array Nullability Mode</td>
<td>Configure the way arrays of value types are returned when requested as object instances. Possible values are: <code>Never</code> (arrays of value types are always returned as non-nullable arrays), <code>Always</code> (arrays of value types are always returned as nullable arrays) and <code>PerInstance</code> (the type of array that gets returned is determined at runtime).</td>
<td>Never</td>
</tr>
</tbody>
</table>
<p><sup id="misc_sup_1">1</sup>The <code>Options</code> connection string parameter is essentially the string of command line options that get passed to the <a href="https://www.postgresql.org/docs/current/app-postgres.html"><code>postgres</code></a> program when the process is started.
It is most commonly used to set named run-time parameters via the <code>-c</code> option but other options can be used too (although not all of them make sense in that context).
Setting multiple options is possible by separating them with a space character. Space and backslash characters in option values need to be escaped by prefixing a backslash character.
Example: <code>Options=-c default_transaction_isolation=serializable -c default_transaction_deferrable=on -c foo.bar=My\\ Famous\\\\Thing</code></p>
<h2 id="compatibility">Compatibility</h2>
<table>
<thead>
<tr>
<th>Parameter</th>
<th>Description</th>
<th>Default</th>
</tr>
</thead>
<tbody>
<tr>
<td>Server Compatibility Mode</td>
<td>A compatibility mode for special PostgreSQL server types. Currently &quot;Redshift&quot; is supported, as well as &quot;NoTypeLoading&quot;, which will bypass the normal type loading mechanism from the PostgreSQL catalog tables and supports a hardcoded list of basic types.</td>
<td>none</td>
</tr>
</tbody>
</table>
<h2 id="obsolete">Obsolete</h2>
<table>
<thead>
<tr>
<th>Parameter</th>
<th>Description</th>
<th>Default</th>
</tr>
</thead>
<tbody>
<tr>
<td>Internal Command Timeout</td>
<td>The time to wait (in seconds) while trying to execute an internal command before terminating the attempt and generating an error. -1 uses CommandTimeout, 0 means no timeout.</td>
<td>-1</td>
</tr>
</tbody>
</table>
<h2 id="environment-variables">Environment variables</h2>
<p>In addition to the connection string parameters above, Npgsql also recognizes the standard PostgreSQL environment variables below. This helps Npgsql-based applications behave similar to other, non-.NET PostgreSQL client applications. The PostgreSQL doc page on environment variables recognized by libpq can be found <a href="https://www.postgresql.org/docs/current/libpq-envars.html">here</a>.</p>
<table>
<thead>
<tr>
<th>Environment variable</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>PGUSER</td>
<td>Behaves the same as the <a href="https://www.postgresql.org/docs/current/libpq-connect.html#LIBPQ-CONNECT-USER">user</a> connection parameter.</td>
</tr>
<tr>
<td>PGPASSWORD</td>
<td>Behaves the same as the <a href="https://www.postgresql.org/docs/current/libpq-connect.html#LIBPQ-CONNECT-PASSWORD">password</a> connection parameter. Use of this environment variable is not recommended for security reasons, as some operating systems allow non-root users to see process environment variables via ps; instead consider using a password file (see <a href="https://www.postgresql.org/docs/current/libpq-pgpass.html">Section 33.15</a>).</td>
</tr>
<tr>
<td>PGPASSFILE</td>
<td>Behaves the same as the <a href="https://www.postgresql.org/docs/current/libpq-connect.html#LIBPQ-CONNECT-PASSFILE">passfile</a> connection parameter.</td>
</tr>
<tr>
<td>PGSSLCERT</td>
<td>Behaves the same as the <a href="https://www.postgresql.org/docs/current/libpq-connect.html#LIBPQ-CONNECT-SSLCERT">sslcert</a> connection parameter.</td>
</tr>
<tr>
<td>PGSSLKEY</td>
<td>Behaves the same as the <a href="https://www.postgresql.org/docs/current/libpq-connect.html#LIBPQ-CONNECT-SSLKEY">sslkey</a> connection parameter.</td>
</tr>
<tr>
<td>PGSSLROOTCERT</td>
<td>Behaves the same as the <a href="https://www.postgresql.org/docs/current/libpq-connect.html#LIBPQ-CONNECT-SSLROOTCERT">sslrootcert</a> connection parameter.</td>
</tr>
<tr>
<td>PGCLIENTENCODING</td>
<td>Behaves the same as the <a href="https://www.postgresql.org/docs/current/libpq-connect.html#LIBPQ-CONNECT-CLIENT-ENCODING">client_encoding</a> connection parameter.</td>
</tr>
<tr>
<td>PGTZ</td>
<td>Sets the default time zone. (Equivalent to SET timezone TO ....)</td>
</tr>
<tr>
<td>PGOPTIONS</td>
<td>Behaves the same as the <a href="https://www.postgresql.org/docs/current/libpq-connect.html#LIBPQ-CONNECT-OPTIONS">options</a> connection parameter.</td>
</tr>
</tbody>
</table>

</article>

        <div class="contribution d-print-none">
          <a href="https://github.com/npgsql/doc/blob/main/conceptual/Npgsql/connection-string-parameters.md/#L1" class="edit-link">Edit this page</a>
        </div>

        <div class="next-article d-print-none border-top" id="nextArticle"></div>

      </div>

      <div class="affix">
        <nav id="affix"></nav>
      </div>
    </main>

    <div class="container-xxl search-results" id="search-results"></div>

    <footer class="border-top text-secondary">
      <div class="container-xxl">
        <div class="flex-fill">
          © Copyright 2024 The Npgsql Development Team
        </div>
      </div>
    </footer>
  </body>
</html>
