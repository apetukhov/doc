<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
      <title>Compatibility Notes | Npgsql Documentation </title>
      <meta name="viewport" content="width=device-width, initial-scale=1.0">
      <meta name="title" content="Compatibility Notes | Npgsql Documentation ">
      
      
      <link rel="icon" href="../favicon.ico">
      <link rel="stylesheet" href="../public/docfx.min.css">
      <link rel="stylesheet" href="../public/main.css">
      <meta name="docfx:navrel" content="../toc.html">
      <meta name="docfx:tocrel" content="toc.html">
      
      <meta name="docfx:rel" content="../">
      
      
      <meta name="docfx:docurl" content="https://github.com/npgsql/doc/blob/main/conceptual/Npgsql/compatibility.md/#L1">
      <meta name="loc:inThisArticle" content="In this article">
      <meta name="loc:searchResultsCount" content="{count} results for &quot;{query}&quot;">
      <meta name="loc:searchNoResults" content="No results for &quot;{query}&quot;">
      <meta name="loc:tocFilter" content="Filter by title">
      <meta name="loc:nextArticle" content="Next">
      <meta name="loc:prevArticle" content="Previous">
      <meta name="loc:themeLight" content="Light">
      <meta name="loc:themeDark" content="Dark">
      <meta name="loc:themeAuto" content="Auto">
      <meta name="loc:changeTheme" content="Change theme">
      <meta name="loc:copy" content="Copy">
      <meta name="loc:downloadPdf" content="Download PDF">

      <script type="module" src="./../public/docfx.min.js"></script>

      <script>
        const theme = localStorage.getItem('theme') || 'auto'
        document.documentElement.setAttribute('data-bs-theme', theme === 'auto' ? (window.matchMedia('(prefers-color-scheme: dark)').matches ? 'dark' : 'light') : theme)
      </script>

  </head>

  <body class="tex2jax_ignore" data-layout="" data-yaml-mime="">
    <header class="bg-body border-bottom">
      <nav id="autocollapse" class="navbar navbar-expand-md" role="navigation">
        <div class="container-xxl flex-nowrap">
          <a class="navbar-brand" href="../index.html">
            <img id="logo" class="svg" src="../img/logo.svg" alt="">
            
          </a>
          <button class="btn btn-lg d-md-none border-0" type="button" data-bs-toggle="collapse" data-bs-target="#navpanel" aria-controls="navpanel" aria-expanded="false" aria-label="Toggle navigation">
            <i class="bi bi-three-dots"></i>
          </button>
          <div class="collapse navbar-collapse" id="navpanel">
            <div id="navbar">
              <form class="search" role="search" id="search">
                <i class="bi bi-search"></i>
                <input class="form-control" id="search-query" type="search" disabled="" placeholder="Search" autocomplete="off" aria-label="Search">
              </form>
            </div>
          </div>
        </div>
      </nav>
    </header>

    <main class="container-xxl">
      <div class="toc-offcanvas">
        <div class="offcanvas-md offcanvas-start" tabindex="-1" id="tocOffcanvas" aria-labelledby="tocOffcanvasLabel">
          <div class="offcanvas-header">
            <h5 class="offcanvas-title" id="tocOffcanvasLabel">Table of Contents</h5>
            <button type="button" class="btn-close" data-bs-dismiss="offcanvas" data-bs-target="#tocOffcanvas" aria-label="Close"></button>
          </div>
          <div class="offcanvas-body">
            <nav class="toc" id="toc"></nav>
          </div>
        </div>
      </div>

      <div class="content">
        <div class="actionbar">
          <button class="btn btn-lg border-0 d-md-none" type="button" data-bs-toggle="offcanvas" data-bs-target="#tocOffcanvas" aria-controls="tocOffcanvas" aria-expanded="false" aria-label="Show table of contents">
            <i class="bi bi-list"></i>
          </button>

          <nav id="breadcrumb"></nav>
        </div>

        <article data-uid="">
<h1 id="compatibility-notes">Compatibility Notes</h1>

<p>This page centralizes Npgsql's compatibility status with PostgreSQL and other components, and documents some important gotchas.</p>
<h2 id="postgresql">PostgreSQL</h2>
<p>We aim to be compatible with all <a href="http://www.postgresql.org/support/versioning/">currently supported PostgreSQL versions</a>, which means 5 years back.
Earlier versions may still work but we don't perform continuous testing on them or commit to resolving issues on them.</p>
<h2 id="adonet">ADO.NET</h2>
<p>Npgsql is an ADO.NET-compatible provider, so it has the same APIs as other .NET database drivers and should behave the same.
Please let us know if you notice any non-standard behavior.</p>
<h2 id="nativeaot-and-trimming">NativeAOT and trimming</h2>
<p>NativeAOT allows using ahead-of-time compilation to publish a fully self-contained application that has been compiled to native code. Native AOT apps have faster startup time and smaller memory footprints, and thanks to trimming can also have a much smaller size footprint on disk.</p>
<p>Starting with version 8.0, Npgsql is fully compatible with NativeAOT and trimming. The majority of features are compatible with NativeAOT/trimming and can be used without issues, and most applications using Npgsql can be used as-is with NativeAOT/trimming without any changes. A few features which are incompatible require an explicit code opt-in, which generates a warning if used with NativeAOT/trimming enabled.</p>
<h2 id="net-frameworknet-coremono">.NET Framework/.NET Core/mono</h2>
<p>Npgsql 4.* targets .NET Framework 4.6.1, as well as <a href="https://docs.microsoft.com/en-us/dotnet/standard/net-standard">.NET Standard 2.0</a> which allows it to run on .NET Core. It is also tested and runs well on mono.</p>
<p>Npgsql 5.* targets .NET Standard 2.0 and .NET 5. Starting with this version, we no longer run regression tests on .NET Framework and mono. In addition, the Visual Studio extension (VSIX) and the MSI GAC installer have been discontinued.</p>
<h2 id="pgbouncer">pgbouncer</h2>
<p>Npgsql works well with PgBouncer, but there are some quirks to be aware of.</p>
<ul>
<li>In many cases, you'll want to turn off Npgsql's internal connection pool by specifying <code>Pooling=false</code> on the connection string.</li>
<li>If you decide to keep Npgsql pooling on along with PgBouncer, and are using PgBouncer's transaction or statement mode, then you  need to specify <code>No Reset On Close=true</code> on the connection string. This disables Npgsql's connection reset logic (<code>DISCARD ALL</code>), which gets executed when a connection is returned to Npgsql's pool, and which makes no sense in these modes.</li>
<li>Prior to version 3.1, Npgsql sends the <code>statement_timeout</code> startup parameter when it connects, but this parameter isn't supported by pgbouncer.
You can get around this by specifying <code>CommandTimeout=0</code> on the connection string, and then manually setting the <code>CommandTimeout</code>
property on your <code>NpgsqlCommand</code> objects. Version 3.1 no longer sends <code>statement_timeout</code>.</li>
<li>PgBouncer below 1.12 doesn't support SASL authentication.</li>
</ul>
<h2 id="amazon-redshift">Amazon Redshift</h2>
<p>Amazon Redshift is a cloud-based data warehouse originally based on PostgreSQL 8.0.2.
In addition, due to its nature some features have been removed and others changed in ways that make them incompatible with PostgreSQL.
We try to support Redshift as much as we can, please let us know about issues you run across.</p>
<p>First, check out Amazon's <a href="http://docs.aws.amazon.com/redshift/latest/dg/c_redshift-and-postgres-sql.html">page about Redshift and PostgreSQL</a> which
contains lots of useful compatibility information.</p>
<p>Additional known issues:</p>
<ul>
<li>If you want to connect over SSL, your connection string must contain <code>Server Compatibility Mode=Redshift</code>, otherwise you'll get a connection
error about <code>ssl_renegotiation_limit</code>.</li>
<li>Entity Framework with database-computed identity values don't work with Redshift, since it doesn't support sequences
(see issue <a href="https://github.com/npgsql/npgsql/issues/544">#544</a>).</li>
</ul>
<h2 id="digitalocean-managed-database">DigitalOcean Managed Database</h2>
<p>DigitalOcean's Managed Database services requires you to connect to PostgreSQL over SSL.  Unfortunately when you enable it in your connection string, you will get the same error regarding <code>ssl_renegotiation_limit</code> as Amazon Redshift.  The Redshift compatibility mode setting resolves the issue on DigitalOcean.</p>

</article>

        <div class="contribution d-print-none">
          <a href="https://github.com/npgsql/doc/blob/main/conceptual/Npgsql/compatibility.md/#L1" class="edit-link">Edit this page</a>
        </div>

        <div class="next-article d-print-none border-top" id="nextArticle"></div>

      </div>

      <div class="affix">
        <nav id="affix"></nav>
      </div>
    </main>

    <div class="container-xxl search-results" id="search-results"></div>

    <footer class="border-top text-secondary">
      <div class="container-xxl">
        <div class="flex-fill">
          © Copyright 2024 The Npgsql Development Team
        </div>
      </div>
    </footer>
  </body>
</html>
